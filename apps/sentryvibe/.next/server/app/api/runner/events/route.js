/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/runner/events/route";
exports.ids = ["app/api/runner/events/route"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/@opentelemetry+instrumentation@0.204.0_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/instrumentation/build/esm/platform/node sync recursive":
/*!**************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@opentelemetry+instrumentation@0.204.0_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync ***!
  \**************************************************************************************************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../../node_modules/.pnpm/@opentelemetry+instrumentation@0.204.0_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/instrumentation/build/esm/platform/node sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@opentelemetry+instrumentation@0.57.2_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/instrumentation/build/esm/platform/node sync recursive":
/*!*************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@opentelemetry+instrumentation@0.57.2_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync ***!
  \*************************************************************************************************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../../node_modules/.pnpm/@opentelemetry+instrumentation@0.57.2_@opentelemetry+api@1.9.0/node_modules/@opentelemetry/instrumentation/build/esm/platform/node sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Frunner%2Fevents%2Froute&page=%2Fapi%2Frunner%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frunner%2Fevents%2Froute.ts&appDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Frunner%2Fevents%2Froute&page=%2Fapi%2Frunner%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frunner%2Fevents%2Froute.ts&appDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _Users_codydearkland_sentryvibe_apps_sentryvibe_src_app_api_runner_events_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/runner/events/route.ts */ \"(rsc)/./src/app/api/runner/events/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_codydearkland_sentryvibe_apps_sentryvibe_src_app_api_runner_events_route_ts__WEBPACK_IMPORTED_MODULE_16__]);\n_Users_codydearkland_sentryvibe_apps_sentryvibe_src_app_api_runner_events_route_ts__WEBPACK_IMPORTED_MODULE_16__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/runner/events/route\",\n        pathname: \"/api/runner/events\",\n        filename: \"route\",\n        bundlePath: \"app/api/runner/events/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/Users/codydearkland/sentryvibe/apps/sentryvibe/src/app/api/runner/events/route.ts\",\n    nextConfigOutput,\n    userland: _Users_codydearkland_sentryvibe_apps_sentryvibe_src_app_api_runner_events_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/runner/events/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuNS40X0BiYWJlbCtjb3JlQDcuMjguNF9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfcmVhY3QtZG9tQDE5LjEuMF9yZWFjdEAxOS4xLjBfX3JlYWN0QDE5LjEuMC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZydW5uZXIlMkZldmVudHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJ1bm5lciUyRmV2ZW50cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJ1bm5lciUyRmV2ZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNvZHlkZWFya2xhbmQlMkZzZW50cnl2aWJlJTJGYXBwcyUyRnNlbnRyeXZpYmUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGY29keWRlYXJrbGFuZCUyRnNlbnRyeXZpYmUlMkZhcHBzJTJGc2VudHJ5dmliZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUM2QztBQUMvRztBQUNBO0FB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RUFBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0ZBQTJCO0FBQ3ZELGtCQUFrQiw2RUFBYztBQUNoQywrQkFBK0IsNEVBQXNCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLDBGQUFxQjtBQUNsRTtBQUNBLGtCQUFrQiw2RUFBWTtBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTiw2QkFBNkIsNkZBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9jb2R5ZGVhcmtsYW5kL3NlbnRyeXZpYmUvYXBwcy9zZW50cnl2aWJlL3NyYy9hcHAvYXBpL3J1bm5lci9ldmVudHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3J1bm5lci9ldmVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ydW5uZXIvZXZlbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ydW5uZXIvZXZlbnRzL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9jb2R5ZGVhcmtsYW5kL3NlbnRyeXZpYmUvYXBwcy9zZW50cnl2aWJlL3NyYy9hcHAvYXBpL3J1bm5lci9ldmVudHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9ydW5uZXIvZXZlbnRzL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Frunner%2Fevents%2Froute&page=%2Fapi%2Frunner%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frunner%2Fevents%2Froute.ts&appDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/require-in-the-middle@7.5.2/node_modules/require-in-the-middle sync recursive":
/*!*****************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/require-in-the-middle@7.5.2/node_modules/require-in-the-middle/ sync ***!
  \*****************************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../../node_modules/.pnpm/require-in-the-middle@7.5.2/node_modules/require-in-the-middle sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../../packages/agent-core/src/lib/db/client.ts":
/*!******************************************************!*\
  !*** ../../packages/agent-core/src/lib/db/client.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/node-postgres */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/node-postgres/driver.js\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/../../packages/agent-core/src/lib/db/schema.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__, drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_2__]);\n([pg__WEBPACK_IMPORTED_MODULE_0__, drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst connectionString = process.env.DATABASE_URL;\nif (!connectionString) {\n    throw new Error('DATABASE_URL is not set.');\n}\nconst pool = global.__dbPool ?? new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString,\n    ssl: process.env.PGSSLMODE === 'disable' ? false : {\n        rejectUnauthorized: false\n    }\n});\nif (!global.__dbPool) {\n    global.__dbPool = pool;\n}\nconst db = (0,drizzle_orm_node_postgres__WEBPACK_IMPORTED_MODULE_2__.drizzle)(pool, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYWdlbnQtY29yZS9zcmMvbGliL2RiL2NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFvRDtBQUMxQjtBQUNTO0FBTW5DLE1BQU1HLG1CQUFtQkMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBRWpELElBQUksQ0FBQ0gsa0JBQWtCO0lBQ3JCLE1BQU0sSUFBSUksTUFBTTtBQUNsQjtBQUVBLE1BQU1DLE9BQ0pDLE9BQU9DLFFBQVEsSUFDZixJQUFJVCxvQ0FBSUEsQ0FBQztJQUNQRTtJQUNBUSxLQUFLUCxRQUFRQyxHQUFHLENBQUNPLFNBQVMsS0FBSyxZQUMzQixRQUNBO1FBQUVDLG9CQUFvQjtJQUFNO0FBQ2xDO0FBRUYsSUFBSSxDQUFDSixPQUFPQyxRQUFRLEVBQUU7SUFDcEJELE9BQU9DLFFBQVEsR0FBR0Y7QUFDcEI7QUFFTyxNQUFNTSxLQUFLZCxrRUFBT0EsQ0FBQ1EsTUFBTTtJQUFFTixNQUFNQSxzQ0FBQUE7QUFBQyxHQUFHO0FBRTVDLGlFQUFlWSxFQUFFQSxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvY29keWRlYXJrbGFuZC9zZW50cnl2aWJlL3BhY2thZ2VzL2FnZW50LWNvcmUvc3JjL2xpYi9kYi9jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZHJpenpsZSB9IGZyb20gJ2RyaXp6bGUtb3JtL25vZGUtcG9zdGdyZXMnO1xuaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3BnJztcbmltcG9ydCAqIGFzIHNjaGVtYSBmcm9tICcuL3NjaGVtYSc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIF9fZGJQb29sOiBQb29sIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCBjb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuXG5pZiAoIWNvbm5lY3Rpb25TdHJpbmcpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdEQVRBQkFTRV9VUkwgaXMgbm90IHNldC4nKTtcbn1cblxuY29uc3QgcG9vbCA9XG4gIGdsb2JhbC5fX2RiUG9vbCA/P1xuICBuZXcgUG9vbCh7XG4gICAgY29ubmVjdGlvblN0cmluZyxcbiAgICBzc2w6IHByb2Nlc3MuZW52LlBHU1NMTU9ERSA9PT0gJ2Rpc2FibGUnXG4gICAgICA/IGZhbHNlXG4gICAgICA6IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9LFxuICB9KTtcblxuaWYgKCFnbG9iYWwuX19kYlBvb2wpIHtcbiAgZ2xvYmFsLl9fZGJQb29sID0gcG9vbDtcbn1cblxuZXhwb3J0IGNvbnN0IGRiID0gZHJpenpsZShwb29sLCB7IHNjaGVtYSB9KTtcblxuZXhwb3J0IGRlZmF1bHQgZGI7XG4iXSwibmFtZXMiOlsiZHJpenpsZSIsIlBvb2wiLCJzY2hlbWEiLCJjb25uZWN0aW9uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsIkVycm9yIiwicG9vbCIsImdsb2JhbCIsIl9fZGJQb29sIiwic3NsIiwiUEdTU0xNT0RFIiwicmVqZWN0VW5hdXRob3JpemVkIiwiZGIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/agent-core/src/lib/db/client.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/agent-core/src/lib/db/schema.ts":
/*!******************************************************!*\
  !*** ../../packages/agent-core/src/lib/db/schema.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   messages: () => (/* binding */ messages),\n/* harmony export */   portAllocations: () => (/* binding */ portAllocations),\n/* harmony export */   projects: () => (/* binding */ projects)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n\nconst projects = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('projects', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('name').notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('slug').notNull().unique(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('description'),\n    originalPrompt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('original_prompt'),\n    icon: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('icon').default('Folder'),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('status').notNull().default('pending'),\n    projectType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('project_type'),\n    path: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('path').notNull(),\n    runCommand: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('run_command'),\n    port: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('port'),\n    devServerPid: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('dev_server_pid'),\n    devServerPort: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('dev_server_port'),\n    devServerStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('dev_server_status').default('stopped'),\n    generationState: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('generation_state'),\n    lastActivityAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('last_activity_at').defaultNow(),\n    errorMessage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('error_message'),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at').notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('updated_at').notNull().defaultNow()\n});\nconst messages = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('messages', {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('id').primaryKey().defaultRandom(),\n    projectId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('project_id').notNull().references(()=>projects.id, {\n        onDelete: 'cascade'\n    }),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('role').notNull(),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('content').notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('created_at').notNull().defaultNow()\n});\nconst portAllocations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)('port_allocations', {\n    port: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.integer)('port').primaryKey(),\n    framework: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)('framework').notNull(),\n    projectId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.uuid)('project_id').references(()=>projects.id, {\n        onDelete: 'set null'\n    }),\n    reservedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)('reserved_at').defaultNow()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYWdlbnQtY29yZS9zcmMvbGliL2RiL3NjaGVtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE4RTtBQUV2RSxNQUFNSyxXQUFXTCw0REFBT0EsQ0FBQyxZQUFZO0lBQzFDTSxJQUFJRix5REFBSUEsQ0FBQyxNQUFNRyxVQUFVLEdBQUdDLGFBQWE7SUFDekNDLE1BQU1SLHlEQUFJQSxDQUFDLFFBQVFTLE9BQU87SUFDMUJDLE1BQU1WLHlEQUFJQSxDQUFDLFFBQVFTLE9BQU8sR0FBR0UsTUFBTTtJQUNuQ0MsYUFBYVoseURBQUlBLENBQUM7SUFDbEJhLGdCQUFnQmIseURBQUlBLENBQUM7SUFDckJjLE1BQU1kLHlEQUFJQSxDQUFDLFFBQVFlLE9BQU8sQ0FBQztJQUMzQkMsUUFBUWhCLHlEQUFJQSxDQUFDLFVBQVVTLE9BQU8sR0FBR00sT0FBTyxDQUFDO0lBQ3pDRSxhQUFhakIseURBQUlBLENBQUM7SUFDbEJrQixNQUFNbEIseURBQUlBLENBQUMsUUFBUVMsT0FBTztJQUMxQlUsWUFBWW5CLHlEQUFJQSxDQUFDO0lBQ2pCb0IsTUFBTW5CLDREQUFPQSxDQUFDO0lBQ2RvQixjQUFjcEIsNERBQU9BLENBQUM7SUFDdEJxQixlQUFlckIsNERBQU9BLENBQUM7SUFDdkJzQixpQkFBaUJ2Qix5REFBSUEsQ0FBQyxxQkFBcUJlLE9BQU8sQ0FBQztJQUNuRFMsaUJBQWlCeEIseURBQUlBLENBQUM7SUFDdEJ5QixnQkFBZ0J2Qiw4REFBU0EsQ0FBQyxvQkFBb0J3QixVQUFVO0lBQ3hEQyxjQUFjM0IseURBQUlBLENBQUM7SUFDbkI0QixXQUFXMUIsOERBQVNBLENBQUMsY0FBY08sT0FBTyxHQUFHaUIsVUFBVTtJQUN2REcsV0FBVzNCLDhEQUFTQSxDQUFDLGNBQWNPLE9BQU8sR0FBR2lCLFVBQVU7QUFDekQsR0FBRztBQUVJLE1BQU1JLFdBQVcvQiw0REFBT0EsQ0FBQyxZQUFZO0lBQzFDTSxJQUFJRix5REFBSUEsQ0FBQyxNQUFNRyxVQUFVLEdBQUdDLGFBQWE7SUFDekN3QixXQUFXNUIseURBQUlBLENBQUMsY0FDYk0sT0FBTyxHQUNQdUIsVUFBVSxDQUFDLElBQU01QixTQUFTQyxFQUFFLEVBQUU7UUFBRTRCLFVBQVU7SUFBVTtJQUN2REMsTUFBTWxDLHlEQUFJQSxDQUFDLFFBQVFTLE9BQU87SUFDMUIwQixTQUFTbkMseURBQUlBLENBQUMsV0FBV1MsT0FBTztJQUNoQ21CLFdBQVcxQiw4REFBU0EsQ0FBQyxjQUFjTyxPQUFPLEdBQUdpQixVQUFVO0FBQ3pELEdBQUc7QUFFSSxNQUFNVSxrQkFBa0JyQyw0REFBT0EsQ0FBQyxvQkFBb0I7SUFDekRxQixNQUFNbkIsNERBQU9BLENBQUMsUUFBUUssVUFBVTtJQUNoQytCLFdBQVdyQyx5REFBSUEsQ0FBQyxhQUFhUyxPQUFPO0lBQ3BDc0IsV0FBVzVCLHlEQUFJQSxDQUFDLGNBQWM2QixVQUFVLENBQUMsSUFBTTVCLFNBQVNDLEVBQUUsRUFBRTtRQUFFNEIsVUFBVTtJQUFXO0lBQ25GSyxZQUFZcEMsOERBQVNBLENBQUMsZUFBZXdCLFVBQVU7QUFDakQsR0FBRyIsInNvdXJjZXMiOlsiL1VzZXJzL2NvZHlkZWFya2xhbmQvc2VudHJ5dmliZS9wYWNrYWdlcy9hZ2VudC1jb3JlL3NyYy9saWIvZGIvc2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBnVGFibGUsIHRleHQsIGludGVnZXIsIHRpbWVzdGFtcCwgdXVpZCB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuXG5leHBvcnQgY29uc3QgcHJvamVjdHMgPSBwZ1RhYmxlKCdwcm9qZWN0cycsIHtcbiAgaWQ6IHV1aWQoJ2lkJykucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgbmFtZTogdGV4dCgnbmFtZScpLm5vdE51bGwoKSxcbiAgc2x1ZzogdGV4dCgnc2x1ZycpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXG4gIG9yaWdpbmFsUHJvbXB0OiB0ZXh0KCdvcmlnaW5hbF9wcm9tcHQnKSxcbiAgaWNvbjogdGV4dCgnaWNvbicpLmRlZmF1bHQoJ0ZvbGRlcicpLFxuICBzdGF0dXM6IHRleHQoJ3N0YXR1cycpLm5vdE51bGwoKS5kZWZhdWx0KCdwZW5kaW5nJyksXG4gIHByb2plY3RUeXBlOiB0ZXh0KCdwcm9qZWN0X3R5cGUnKSxcbiAgcGF0aDogdGV4dCgncGF0aCcpLm5vdE51bGwoKSxcbiAgcnVuQ29tbWFuZDogdGV4dCgncnVuX2NvbW1hbmQnKSxcbiAgcG9ydDogaW50ZWdlcigncG9ydCcpLFxuICBkZXZTZXJ2ZXJQaWQ6IGludGVnZXIoJ2Rldl9zZXJ2ZXJfcGlkJyksXG4gIGRldlNlcnZlclBvcnQ6IGludGVnZXIoJ2Rldl9zZXJ2ZXJfcG9ydCcpLFxuICBkZXZTZXJ2ZXJTdGF0dXM6IHRleHQoJ2Rldl9zZXJ2ZXJfc3RhdHVzJykuZGVmYXVsdCgnc3RvcHBlZCcpLFxuICBnZW5lcmF0aW9uU3RhdGU6IHRleHQoJ2dlbmVyYXRpb25fc3RhdGUnKSxcbiAgbGFzdEFjdGl2aXR5QXQ6IHRpbWVzdGFtcCgnbGFzdF9hY3Rpdml0eV9hdCcpLmRlZmF1bHROb3coKSxcbiAgZXJyb3JNZXNzYWdlOiB0ZXh0KCdlcnJvcl9tZXNzYWdlJyksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBtZXNzYWdlcyA9IHBnVGFibGUoJ21lc3NhZ2VzJywge1xuICBpZDogdXVpZCgnaWQnKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBwcm9qZWN0SWQ6IHV1aWQoJ3Byb2plY3RfaWQnKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBwcm9qZWN0cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxuICByb2xlOiB0ZXh0KCdyb2xlJykubm90TnVsbCgpLFxuICBjb250ZW50OiB0ZXh0KCdjb250ZW50Jykubm90TnVsbCgpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuZXhwb3J0IGNvbnN0IHBvcnRBbGxvY2F0aW9ucyA9IHBnVGFibGUoJ3BvcnRfYWxsb2NhdGlvbnMnLCB7XG4gIHBvcnQ6IGludGVnZXIoJ3BvcnQnKS5wcmltYXJ5S2V5KCksXG4gIGZyYW1ld29yazogdGV4dCgnZnJhbWV3b3JrJykubm90TnVsbCgpLFxuICBwcm9qZWN0SWQ6IHV1aWQoJ3Byb2plY3RfaWQnKS5yZWZlcmVuY2VzKCgpID0+IHByb2plY3RzLmlkLCB7IG9uRGVsZXRlOiAnc2V0IG51bGwnIH0pLFxuICByZXNlcnZlZEF0OiB0aW1lc3RhbXAoJ3Jlc2VydmVkX2F0JykuZGVmYXVsdE5vdygpLFxufSk7XG5cbmV4cG9ydCB0eXBlIFByb2plY3QgPSB0eXBlb2YgcHJvamVjdHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgTmV3UHJvamVjdCA9IHR5cGVvZiBwcm9qZWN0cy4kaW5mZXJJbnNlcnQ7XG5leHBvcnQgdHlwZSBNZXNzYWdlID0gdHlwZW9mIG1lc3NhZ2VzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIE5ld01lc3NhZ2UgPSB0eXBlb2YgbWVzc2FnZXMuJGluZmVySW5zZXJ0O1xuZXhwb3J0IHR5cGUgUG9ydEFsbG9jYXRpb24gPSB0eXBlb2YgcG9ydEFsbG9jYXRpb25zLiRpbmZlclNlbGVjdDtcbiJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidGV4dCIsImludGVnZXIiLCJ0aW1lc3RhbXAiLCJ1dWlkIiwicHJvamVjdHMiLCJpZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwibmFtZSIsIm5vdE51bGwiLCJzbHVnIiwidW5pcXVlIiwiZGVzY3JpcHRpb24iLCJvcmlnaW5hbFByb21wdCIsImljb24iLCJkZWZhdWx0Iiwic3RhdHVzIiwicHJvamVjdFR5cGUiLCJwYXRoIiwicnVuQ29tbWFuZCIsInBvcnQiLCJkZXZTZXJ2ZXJQaWQiLCJkZXZTZXJ2ZXJQb3J0IiwiZGV2U2VydmVyU3RhdHVzIiwiZ2VuZXJhdGlvblN0YXRlIiwibGFzdEFjdGl2aXR5QXQiLCJkZWZhdWx0Tm93IiwiZXJyb3JNZXNzYWdlIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibWVzc2FnZXMiLCJwcm9qZWN0SWQiLCJyZWZlcmVuY2VzIiwib25EZWxldGUiLCJyb2xlIiwiY29udGVudCIsInBvcnRBbGxvY2F0aW9ucyIsImZyYW1ld29yayIsInJlc2VydmVkQXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/agent-core/src/lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/agent-core/src/lib/port-allocator.ts":
/*!***********************************************************!*\
  !*** ../../packages/agent-core/src/lib/port-allocator.ts ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildEnvForFramework: () => (/* binding */ buildEnvForFramework),\n/* harmony export */   getRunCommand: () => (/* binding */ getRunCommand),\n/* harmony export */   releasePortForProject: () => (/* binding */ releasePortForProject),\n/* harmony export */   reservePortForProject: () => (/* binding */ reservePortForProject),\n/* harmony export */   updatePortReservationForProject: () => (/* binding */ updatePortReservationForProject),\n/* harmony export */   withEnforcedPort: () => (/* binding */ withEnforcedPort)\n/* harmony export */ });\n/* harmony import */ var _db_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db/client */ \"(rsc)/../../packages/agent-core/src/lib/db/client.ts\");\n/* harmony import */ var _db_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db/schema */ \"(rsc)/../../packages/agent-core/src/lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/sql/sql.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db_client__WEBPACK_IMPORTED_MODULE_0__]);\n_db_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst FRAMEWORK_RANGES = {\n    next: {\n        start: 3000,\n        end: 3100\n    },\n    node: {\n        start: 3000,\n        end: 3100\n    },\n    astro: {\n        start: 4321,\n        end: 4421\n    },\n    vite: {\n        start: 5173,\n        end: 5273\n    },\n    default: {\n        start: 6000,\n        end: 6100\n    }\n};\nconst FRAMEWORK_ENV_MAP = {\n    next: [\n        'PORT',\n        'NEXT_PUBLIC_PORT'\n    ],\n    node: [\n        'PORT'\n    ],\n    astro: [\n        'PORT',\n        'ASTRO_PORT'\n    ],\n    vite: [\n        'PORT',\n        'VITE_PORT'\n    ],\n    default: [\n        'PORT'\n    ]\n};\nfunction resolveFramework(projectType, runCommand) {\n    const normalizedType = projectType?.toLowerCase() ?? '';\n    const normalizedCommand = runCommand?.toLowerCase() ?? '';\n    if (normalizedType.includes('vite') || normalizedCommand.includes('vite')) {\n        return 'vite';\n    }\n    if (normalizedType.includes('astro') || normalizedCommand.includes('astro')) {\n        return 'astro';\n    }\n    if (normalizedType.includes('next') || normalizedCommand.includes('next')) {\n        return 'next';\n    }\n    if (normalizedType.includes('node')) {\n        return 'node';\n    }\n    return 'default';\n}\nfunction toFrameworkKey(value) {\n    switch(value){\n        case 'next':\n        case 'astro':\n        case 'vite':\n        case 'node':\n            return value;\n        default:\n            return 'default';\n    }\n}\nasync function reservePortForProject(params) {\n    const framework = resolveFramework(params.projectType, params.runCommand);\n    const range = FRAMEWORK_RANGES[framework];\n    const preferred = params.preferredPort ?? undefined;\n    return _db_client__WEBPACK_IMPORTED_MODULE_0__.db.transaction(async (tx)=>{\n        await tx.update(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).set({\n            projectId: null,\n            reservedAt: null\n        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.projectId, params.projectId)).execute();\n        const now = new Date();\n        const tryReservePort = async (port)=>{\n            if (port < range.start || port > range.end) {\n                return null;\n            }\n            const existing = await tx.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port, port)).limit(1).execute();\n            if (existing.length === 0) {\n                await tx.insert(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).values({\n                    port,\n                    framework,\n                    projectId: params.projectId,\n                    reservedAt: now\n                }).execute();\n                return port;\n            }\n            if (existing[0].projectId === null) {\n                await tx.update(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).set({\n                    projectId: params.projectId,\n                    reservedAt: now\n                }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port, port)).execute();\n                return port;\n            }\n            return null;\n        };\n        if (preferred) {\n            const reserved = await tryReservePort(preferred);\n            if (reserved !== null) {\n                return {\n                    port: reserved,\n                    framework\n                };\n            }\n        }\n        const reusable = await tx.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.framework, framework), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.isNull)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.projectId))).orderBy(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port).limit(1).execute();\n        if (reusable.length > 0) {\n            await tx.update(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).set({\n                projectId: params.projectId,\n                reservedAt: now\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port, reusable[0].port)).execute();\n            return {\n                port: reusable[0].port,\n                framework\n            };\n        }\n        const rows = await tx.select({\n            maxPort: (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_3__.sql)`COALESCE(MAX(${_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port}), ${range.start - 1})`\n        }).from(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.framework, framework)).execute();\n        const maxPort = rows[0]?.maxPort ?? range.start - 1;\n        const nextPort = Math.max(range.start, maxPort + 1);\n        if (nextPort > range.end) {\n            throw new Error(`No available ports remaining for framework \"${framework}\" (${range.start}-${range.end}).`);\n        }\n        await tx.insert(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).values({\n            port: nextPort,\n            framework,\n            projectId: params.projectId,\n            reservedAt: now\n        }).execute();\n        return {\n            port: nextPort,\n            framework\n        };\n    });\n}\nasync function updatePortReservationForProject(projectId, actualPort) {\n    await _db_client__WEBPACK_IMPORTED_MODULE_0__.db.transaction(async (tx)=>{\n        const rows = await tx.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.projectId, projectId)).limit(1).execute();\n        if (rows.length === 0) {\n            return;\n        }\n        const current = rows[0];\n        if (current.port === actualPort) {\n            return;\n        }\n        const frameworkKey = toFrameworkKey(current.framework);\n        const range = FRAMEWORK_RANGES[frameworkKey] ?? FRAMEWORK_RANGES.default;\n        if (actualPort < range.start || actualPort > range.end) {\n            return;\n        }\n        const occupying = await tx.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port, actualPort)).limit(1).execute();\n        if (occupying.length > 0 && occupying[0].projectId !== null && occupying[0].projectId !== projectId) {\n            return;\n        }\n        await tx.delete(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port, current.port)).execute();\n        const now = new Date();\n        if (occupying.length > 0) {\n            await tx.update(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).set({\n                projectId,\n                reservedAt: now\n            }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.port, actualPort)).execute();\n        } else {\n            await tx.insert(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).values({\n                port: actualPort,\n                framework: current.framework,\n                projectId,\n                reservedAt: now\n            }).execute();\n        }\n    });\n}\nasync function releasePortForProject(projectId) {\n    await _db_client__WEBPACK_IMPORTED_MODULE_0__.db.update(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations).set({\n        projectId: null,\n        reservedAt: null\n    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_1__.portAllocations.projectId, projectId)).execute();\n}\nfunction buildEnvForFramework(framework, port) {\n    const envKeys = FRAMEWORK_ENV_MAP[framework] ?? FRAMEWORK_ENV_MAP.default;\n    const env = {};\n    envKeys.forEach((key)=>{\n        env[key] = String(port);\n    });\n    // Also expose a generic dev server env var for client use\n    env.DEV_SERVER_PORT = String(port);\n    return env;\n}\nfunction getRunCommand(baseCommand) {\n    if (!baseCommand || !baseCommand.trim()) {\n        return 'npm run dev';\n    }\n    return baseCommand;\n}\nfunction withEnforcedPort(command, framework, port) {\n    if (!port) return command;\n    const trimmed = command.trim();\n    if (!trimmed) return command;\n    const needsExplicitPort = framework === 'vite' || framework === 'astro';\n    if (!needsExplicitPort) {\n        return command;\n    }\n    const cliArgs = `--port ${port} --host 0.0.0.0 --strictPort`;\n    if (/^npm\\s+run\\s+/i.test(trimmed)) {\n        return `${trimmed} -- ${cliArgs}`;\n    }\n    if (/^pnpm\\s+/i.test(trimmed)) {\n        return `${trimmed} -- ${cliArgs}`;\n    }\n    if (/^yarn\\s+/i.test(trimmed)) {\n        return `${trimmed} ${cliArgs}`;\n    }\n    if (/^bun\\s+/i.test(trimmed)) {\n        return `${trimmed} ${cliArgs}`;\n    }\n    if (trimmed.includes('astro')) {\n        return `${trimmed} ${cliArgs}`;\n    }\n    if (trimmed.includes('vite')) {\n        return `${trimmed} ${cliArgs}`;\n    }\n    return `${trimmed} -- ${cliArgs}`;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYWdlbnQtY29yZS9zcmMvbGliL3BvcnQtYWxsb2NhdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDYTtBQUNLO0FBZ0JuRCxNQUFNTSxtQkFBeUU7SUFDN0VDLE1BQU07UUFBRUMsT0FBTztRQUFNQyxLQUFLO0lBQUs7SUFDL0JDLE1BQU07UUFBRUYsT0FBTztRQUFNQyxLQUFLO0lBQUs7SUFDL0JFLE9BQU87UUFBRUgsT0FBTztRQUFNQyxLQUFLO0lBQUs7SUFDaENHLE1BQU07UUFBRUosT0FBTztRQUFNQyxLQUFLO0lBQUs7SUFDL0JJLFNBQVM7UUFBRUwsT0FBTztRQUFNQyxLQUFLO0lBQUs7QUFDcEM7QUFFQSxNQUFNSyxvQkFBb0Q7SUFDeERQLE1BQU07UUFBQztRQUFRO0tBQW1CO0lBQ2xDRyxNQUFNO1FBQUM7S0FBTztJQUNkQyxPQUFPO1FBQUM7UUFBUTtLQUFhO0lBQzdCQyxNQUFNO1FBQUM7UUFBUTtLQUFZO0lBQzNCQyxTQUFTO1FBQUM7S0FBTztBQUNuQjtBQUVBLFNBQVNFLGlCQUFpQkMsV0FBMEIsRUFBRUMsVUFBeUI7SUFDN0UsTUFBTUMsaUJBQWlCRixhQUFhRyxpQkFBaUI7SUFDckQsTUFBTUMsb0JBQW9CSCxZQUFZRSxpQkFBaUI7SUFFdkQsSUFBSUQsZUFBZUcsUUFBUSxDQUFDLFdBQVdELGtCQUFrQkMsUUFBUSxDQUFDLFNBQVM7UUFDekUsT0FBTztJQUNUO0lBRUEsSUFBSUgsZUFBZUcsUUFBUSxDQUFDLFlBQVlELGtCQUFrQkMsUUFBUSxDQUFDLFVBQVU7UUFDM0UsT0FBTztJQUNUO0lBRUEsSUFBSUgsZUFBZUcsUUFBUSxDQUFDLFdBQVdELGtCQUFrQkMsUUFBUSxDQUFDLFNBQVM7UUFDekUsT0FBTztJQUNUO0lBRUEsSUFBSUgsZUFBZUcsUUFBUSxDQUFDLFNBQVM7UUFDbkMsT0FBTztJQUNUO0lBRUEsT0FBTztBQUNUO0FBRUEsU0FBU0MsZUFBZUMsS0FBYTtJ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Q3RCLE9BQU9GO0lBQ1Q7SUFFQSxNQUFNRyxVQUFVLENBQUMsT0FBTyxFQUFFdEMsS0FBSyw0QkFBNEIsQ0FBQztJQUU1RCxJQUFJLGlCQUFpQnVDLElBQUksQ0FBQ0gsVUFBVTtRQUNsQyxPQUFPLEdBQUdBLFFBQVEsSUFBSSxFQUFFRSxTQUFTO0lBQ25DO0lBRUEsSUFBSSxZQUFZQyxJQUFJLENBQUNILFVBQVU7UUFDN0IsT0FBTyxHQUFHQSxRQUFRLElBQUksRUFBRUUsU0FBUztJQUNuQztJQUVBLElBQUksWUFBWUMsSUFBSSxDQUFDSCxVQUFVO1FBQzdCLE9BQU8sR0FBR0EsUUFBUSxDQUFDLEVBQUVFLFNBQVM7SUFDaEM7SUFFQSxJQUFJLFdBQVdDLElBQUksQ0FBQ0gsVUFBVTtRQUM1QixPQUFPLEdBQUdBLFFBQVEsQ0FBQyxFQUFFRSxTQUFTO0lBQ2hDO0lBRUEsSUFBSUYsUUFBUXpELFFBQVEsQ0FBQyxVQUFVO1FBQzdCLE9BQU8sR0FBR3lELFFBQVEsQ0FBQyxFQUFFRSxTQUFTO0lBQ2hDO0lBRUEsSUFBSUYsUUFBUXpELFFBQVEsQ0FBQyxTQUFTO1FBQzVCLE9BQU8sR0FBR3lELFFBQVEsQ0FBQyxFQUFFRSxTQUFTO0lBQ2hDO0lBRUEsT0FBTyxHQUFHRixRQUFRLElBQUksRUFBRUUsU0FBUztBQUNuQyIsInNvdXJjZXMiOlsiL1VzZXJzL2NvZHlkZWFya2xhbmQvc2VudHJ5dmliZS9wYWNrYWdlcy9hZ2VudC1jb3JlL3NyYy9saWIvcG9ydC1hbGxvY2F0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIgfSBmcm9tICcuL2RiL2NsaWVudCc7XG5pbXBvcnQgeyBwb3J0QWxsb2NhdGlvbnMgfSBmcm9tICcuL2RiL3NjaGVtYSc7XG5pbXBvcnQgeyBhbmQsIGVxLCBpc051bGwsIHNxbCB9IGZyb20gJ2RyaXp6bGUtb3JtJztcblxuaW50ZXJmYWNlIFJlc2VydmVQb3J0UGFyYW1zIHtcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHByb2plY3RUeXBlOiBzdHJpbmcgfCBudWxsO1xuICBydW5Db21tYW5kOiBzdHJpbmcgfCBudWxsO1xuICBwcmVmZXJyZWRQb3J0PzogbnVtYmVyIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIFJlc2VydmVkUG9ydEluZm8ge1xuICBwb3J0OiBudW1iZXI7XG4gIGZyYW1ld29yazogRnJhbWV3b3JrS2V5O1xufVxuXG50eXBlIEZyYW1ld29ya0tleSA9ICduZXh0JyB8ICdhc3RybycgfCAndml0ZScgfCAnbm9kZScgfCAnZGVmYXVsdCc7XG5cbmNvbnN0IEZSQU1FV09SS19SQU5HRVM6IFJlY29yZDxGcmFtZXdvcmtLZXksIHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXIgfT4gPSB7XG4gIG5leHQ6IHsgc3RhcnQ6IDMwMDAsIGVuZDogMzEwMCB9LFxuICBub2RlOiB7IHN0YXJ0OiAzMDAwLCBlbmQ6IDMxMDAgfSxcbiAgYXN0cm86IHsgc3RhcnQ6IDQzMjEsIGVuZDogNDQyMSB9LFxuICB2aXRlOiB7IHN0YXJ0OiA1MTczLCBlbmQ6IDUyNzMgfSxcbiAgZGVmYXVsdDogeyBzdGFydDogNjAwMCwgZW5kOiA2MTAwIH0sXG59O1xuXG5jb25zdCBGUkFNRVdPUktfRU5WX01BUDogUmVjb3JkPEZyYW1ld29ya0tleSwgc3RyaW5nW10+ID0ge1xuICBuZXh0OiBbJ1BPUlQnLCAnTkVYVF9QVUJMSUNfUE9SVCddLFxuICBub2RlOiBbJ1BPUlQnXSxcbiAgYXN0cm86IFsnUE9SVCcsICdBU1RST19QT1JUJ10sXG4gIHZpdGU6IFsnUE9SVCcsICdWSVRFX1BPUlQnXSxcbiAgZGVmYXVsdDogWydQT1JUJ10sXG59O1xuXG5mdW5jdGlvbiByZXNvbHZlRnJhbWV3b3JrKHByb2plY3RUeXBlOiBzdHJpbmcgfCBudWxsLCBydW5Db21tYW5kOiBzdHJpbmcgfCBudWxsKTogRnJhbWV3b3JrS2V5IHtcbiAgY29uc3Qgbm9ybWFsaXplZFR5cGUgPSBwcm9qZWN0VHlwZT8udG9Mb3dlckNhc2UoKSA/PyAnJztcbiAgY29uc3Qgbm9ybWFsaXplZENvbW1hbmQgPSBydW5Db21tYW5kPy50b0xvd2VyQ2FzZSgpID8/ICcnO1xuXG4gIGlmIChub3JtYWxpemVkVHlwZS5pbmNsdWRlcygndml0ZScpIHx8IG5vcm1hbGl6ZWRDb21tYW5kLmluY2x1ZGVzKCd2aXRlJykpIHtcbiAgICByZXR1cm4gJ3ZpdGUnO1xuICB9XG5cbiAgaWYgKG5vcm1hbGl6ZWRUeXBlLmluY2x1ZGVzKCdhc3RybycpIHx8IG5vcm1hbGl6ZWRDb21tYW5kLmluY2x1ZGVzKCdhc3RybycpKSB7XG4gICAgcmV0dXJuICdhc3Rybyc7XG4gIH1cblxuICBpZiAobm9ybWFsaXplZFR5cGUuaW5jbHVkZXMoJ25leHQnKSB8fCBub3JtYWxpemVkQ29tbWFuZC5pbmNsdWRlcygnbmV4dCcpKSB7XG4gICAgcmV0dXJuICduZXh0JztcbiAgfVxuXG4gIGlmIChub3JtYWxpemVkVHlwZS5pbmNsdWRlcygnbm9kZScpKSB7XG4gICAgcmV0dXJuICdub2RlJztcbiAgfVxuXG4gIHJldHVybiAnZGVmYXVsdCc7XG59XG5cbmZ1bmN0aW9uIHRvRnJhbWV3b3JrS2V5KHZhbHVlOiBzdHJpbmcpOiBGcmFtZXdvcmtLZXkge1xuICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgY2FzZSAnbmV4dCc6XG4gICAgY2FzZSAnYXN0cm8nOlxuICAgIGNhc2UgJ3ZpdGUnOlxuICAgIGNhc2UgJ25vZGUnOlxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ2RlZmF1bHQnO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNlcnZlUG9ydEZvclByb2plY3QocGFyYW1zOiBSZXNlcnZlUG9ydFBhcmFtcyk6IFByb21pc2U8UmVzZXJ2ZWRQb3J0SW5mbz4ge1xuICBjb25zdCBmcmFtZXdvcmsgPSByZXNvbHZlRnJhbWV3b3JrKHBhcmFtcy5wcm9qZWN0VHlwZSwgcGFyYW1zLnJ1bkNvbW1hbmQpO1xuICBjb25zdCByYW5nZSA9IEZSQU1FV09SS19SQU5HRVNbZnJhbWV3b3JrXTtcbiAgY29uc3QgcHJlZmVycmVkID0gcGFyYW1zLnByZWZlcnJlZFBvcnQgPz8gdW5kZWZpbmVkO1xuXG4gIHJldHVybiBkYi50cmFuc2FjdGlvbihhc3luYyAodHgpID0+IHtcbiAgICBhd2FpdCB0eC51cGRhdGUocG9ydEFsbG9jYXRpb25zKVxuICAgICAgLnNldCh7IHByb2plY3RJZDogbnVsbCwgcmVzZXJ2ZWRBdDogbnVsbCB9KVxuICAgICAgLndoZXJlKGVxKHBvcnRBbGxvY2F0aW9ucy5wcm9qZWN0SWQsIHBhcmFtcy5wcm9qZWN0SWQpKVxuICAgICAgLmV4ZWN1dGUoKTtcblxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICBjb25zdCB0cnlSZXNlcnZlUG9ydCA9IGFzeW5jIChwb3J0OiBudW1iZXIpOiBQcm9taXNlPG51bWJlciB8IG51bGw+ID0+IHtcbiAgICAgIGlmIChwb3J0IDwgcmFuZ2Uuc3RhcnQgfHwgcG9ydCA+IHJhbmdlLmVuZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCB0eC5zZWxlY3QoKS5mcm9tKHBvcnRBbGxvY2F0aW9ucylcbiAgICAgICAgLndoZXJlKGVxKHBvcnRBbGxvY2F0aW9ucy5wb3J0LCBwb3J0KSlcbiAgICAgICAgLmxpbWl0KDEpXG4gICAgICAgIC5leGVjdXRlKCk7XG5cbiAgICAgIGlmIChleGlzdGluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYXdhaXQgdHguaW5zZXJ0KHBvcnRBbGxvY2F0aW9ucykudmFsdWVzKHtcbiAgICAgICAgICBwb3J0LFxuICAgICAgICAgIGZyYW1ld29yayxcbiAgICAgICAgICBwcm9qZWN0SWQ6IHBhcmFtcy5wcm9qZWN0SWQsXG4gICAgICAgICAgcmVzZXJ2ZWRBdDogbm93LFxuICAgICAgICB9KS5leGVjdXRlKCk7XG4gICAgICAgIHJldHVybiBwb3J0O1xuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3RpbmdbMF0ucHJvamVjdElkID09PSBudWxsKSB7XG4gICAgICAgIGF3YWl0IHR4LnVwZGF0ZShwb3J0QWxsb2NhdGlvbnMpXG4gICAgICAgICAgLnNldCh7IHByb2plY3RJZDogcGFyYW1zLnByb2plY3RJZCwgcmVzZXJ2ZWRBdDogbm93IH0pXG4gICAgICAgICAgLndoZXJlKGVxKHBvcnRBbGxvY2F0aW9ucy5wb3J0LCBwb3J0KSlcbiAgICAgICAgICAuZXhlY3V0ZSgpO1xuICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIGlmIChwcmVmZXJyZWQpIHtcbiAgICAgIGNvbnN0IHJlc2VydmVkID0gYXdhaXQgdHJ5UmVzZXJ2ZVBvcnQocHJlZmVycmVkKTtcbiAgICAgIGlmIChyZXNlcnZlZCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4geyBwb3J0OiByZXNlcnZlZCwgZnJhbWV3b3JrIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmV1c2FibGUgPSBhd2FpdCB0eC5zZWxlY3QoKS5mcm9tKHBvcnRBbGxvY2F0aW9ucylcbiAgICAgIC53aGVyZShhbmQoZXEocG9ydEFsbG9jYXRpb25zLmZyYW1ld29yaywgZnJhbWV3b3JrKSwgaXNOdWxsKHBvcnRBbGxvY2F0aW9ucy5wcm9qZWN0SWQpKSlcbiAgICAgIC5vcmRlckJ5KHBvcnRBbGxvY2F0aW9ucy5wb3J0KVxuICAgICAgLmxpbWl0KDEpXG4gICAgICAuZXhlY3V0ZSgpO1xuXG4gICAgaWYgKHJldXNhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHR4LnVwZGF0ZShwb3J0QWxsb2NhdGlvbnMpXG4gICAgICAgIC5zZXQoeyBwcm9qZWN0SWQ6IHBhcmFtcy5wcm9qZWN0SWQsIHJlc2VydmVkQXQ6IG5vdyB9KVxuICAgICAgICAud2hlcmUoZXEocG9ydEFsbG9jYXRpb25zLnBvcnQsIHJldXNhYmxlWzBdLnBvcnQpKVxuICAgICAgICAuZXhlY3V0ZSgpO1xuICAgICAgcmV0dXJuIHsgcG9ydDogcmV1c2FibGVbMF0ucG9ydCwgZnJhbWV3b3JrIH07XG4gICAgfVxuXG4gICAgY29uc3Qgcm93cyA9IGF3YWl0IHR4LnNlbGVjdCh7XG4gICAgICBtYXhQb3J0OiBzcWw8bnVtYmVyPmBDT0FMRVNDRShNQVgoJHtwb3J0QWxsb2NhdGlvbnMucG9ydH0pLCAke3JhbmdlLnN0YXJ0IC0gMX0pYCxcbiAgICB9KVxuICAgICAgLmZyb20ocG9ydEFsbG9jYXRpb25zKVxuICAgICAgLndoZXJlKGVxKHBvcnRBbGxvY2F0aW9ucy5mcmFtZXdvcmssIGZyYW1ld29yaykpXG4gICAgICAuZXhlY3V0ZSgpO1xuXG4gICAgY29uc3QgbWF4UG9ydCA9IHJvd3NbMF0/Lm1heFBvcnQgPz8gcmFuZ2Uuc3RhcnQgLSAxO1xuICAgIGNvbnN0IG5leHRQb3J0ID0gTWF0aC5tYXgocmFuZ2Uuc3RhcnQsIG1heFBvcnQgKyAxKTtcbiAgICBpZiAobmV4dFBvcnQgPiByYW5nZS5lbmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gYXZhaWxhYmxlIHBvcnRzIHJlbWFpbmluZyBmb3IgZnJhbWV3b3JrIFwiJHtmcmFtZXdvcmt9XCIgKCR7cmFuZ2Uuc3RhcnR9LSR7cmFuZ2UuZW5kfSkuYCk7XG4gICAgfVxuXG4gICAgYXdhaXQgdHguaW5zZXJ0KHBvcnRBbGxvY2F0aW9ucykudmFsdWVzKHtcbiAgICAgIHBvcnQ6IG5leHRQb3J0LFxuICAgICAgZnJhbWV3b3JrLFxuICAgICAgcHJvamVjdElkOiBwYXJhbXMucHJvamVjdElkLFxuICAgICAgcmVzZXJ2ZWRBdDogbm93LFxuICAgIH0pLmV4ZWN1dGUoKTtcblxuICAgIHJldHVybiB7IHBvcnQ6IG5leHRQb3J0LCBmcmFtZXdvcmsgfTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVQb3J0UmVzZXJ2YXRpb25Gb3JQcm9qZWN0KHByb2plY3RJZDogc3RyaW5nLCBhY3R1YWxQb3J0OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZGIudHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG4gICAgY29uc3Qgcm93cyA9IGF3YWl0IHR4LnNlbGVjdCgpLmZyb20ocG9ydEFsbG9jYXRpb25zKVxuICAgICAgLndoZXJlKGVxKHBvcnRBbGxvY2F0aW9ucy5wcm9qZWN0SWQsIHByb2plY3RJZCkpXG4gICAgICAubGltaXQoMSlcbiAgICAgIC5leGVjdXRlKCk7XG5cbiAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50ID0gcm93c1swXTtcbiAgICBpZiAoY3VycmVudC5wb3J0ID09PSBhY3R1YWxQb3J0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZnJhbWV3b3JrS2V5ID0gdG9GcmFtZXdvcmtLZXkoY3VycmVudC5mcmFtZXdvcmspO1xuICAgIGNvbnN0IHJhbmdlID0gRlJBTUVXT1JLX1JBTkdFU1tmcmFtZXdvcmtLZXldID8/IEZSQU1FV09SS19SQU5HRVMuZGVmYXVsdDtcbiAgICBpZiAoYWN0dWFsUG9ydCA8IHJhbmdlLnN0YXJ0IHx8IGFjdHVhbFBvcnQgPiByYW5nZS5lbmQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvY2N1cHlpbmcgPSBhd2FpdCB0eC5zZWxlY3QoKS5mcm9tKHBvcnRBbGxvY2F0aW9ucylcbiAgICAgIC53aGVyZShlcShwb3J0QWxsb2NhdGlvbnMucG9ydCwgYWN0dWFsUG9ydCkpXG4gICAgICAubGltaXQoMSlcbiAgICAgIC5leGVjdXRlKCk7XG5cbiAgICBpZiAob2NjdXB5aW5nLmxlbmd0aCA+IDAgJiYgb2NjdXB5aW5nWzBdLnByb2plY3RJZCAhPT0gbnVsbCAmJiBvY2N1cHlpbmdbMF0ucHJvamVjdElkICE9PSBwcm9qZWN0SWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhd2FpdCB0eC5kZWxldGUocG9ydEFsbG9jYXRpb25zKS53aGVyZShlcShwb3J0QWxsb2NhdGlvbnMucG9ydCwgY3VycmVudC5wb3J0KSkuZXhlY3V0ZSgpO1xuXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcblxuICAgIGlmIChvY2N1cHlpbmcubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgdHgudXBkYXRlKHBvcnRBbGxvY2F0aW9ucylcbiAgICAgICAgLnNldCh7IHByb2plY3RJZCwgcmVzZXJ2ZWRBdDogbm93IH0pXG4gICAgICAgIC53aGVyZShlcShwb3J0QWxsb2NhdGlvbnMucG9ydCwgYWN0dWFsUG9ydCkpXG4gICAgICAgIC5leGVjdXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHR4Lmluc2VydChwb3J0QWxsb2NhdGlvbnMpLnZhbHVlcyh7XG4gICAgICAgIHBvcnQ6IGFjdHVhbFBvcnQsXG4gICAgICAgIGZyYW1ld29yazogY3VycmVudC5mcmFtZXdvcmssXG4gICAgICAgIHByb2plY3RJZCxcbiAgICAgICAgcmVzZXJ2ZWRBdDogbm93LFxuICAgICAgfSkuZXhlY3V0ZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWxlYXNlUG9ydEZvclByb2plY3QocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgZGIudXBkYXRlKHBvcnRBbGxvY2F0aW9ucylcbiAgICAuc2V0KHsgcHJvamVjdElkOiBudWxsLCByZXNlcnZlZEF0OiBudWxsIH0pXG4gICAgLndoZXJlKGVxKHBvcnRBbGxvY2F0aW9ucy5wcm9qZWN0SWQsIHByb2plY3RJZCkpXG4gICAgLmV4ZWN1dGUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRW52Rm9yRnJhbWV3b3JrKGZyYW1ld29yazogRnJhbWV3b3JrS2V5LCBwb3J0OiBudW1iZXIpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgY29uc3QgZW52S2V5cyA9IEZSQU1FV09SS19FTlZfTUFQW2ZyYW1ld29ya10gPz8gRlJBTUVXT1JLX0VOVl9NQVAuZGVmYXVsdDtcbiAgY29uc3QgZW52OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG5cbiAgZW52S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBlbnZba2V5XSA9IFN0cmluZyhwb3J0KTtcbiAgfSk7XG5cbiAgLy8gQWxzbyBleHBvc2UgYSBnZW5lcmljIGRldiBzZXJ2ZXIgZW52IHZhciBmb3IgY2xpZW50IHVzZVxuICBlbnYuREVWX1NFUlZFUl9QT1JUID0gU3RyaW5nKHBvcnQpO1xuXG4gIHJldHVybiBlbnY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdW5Db21tYW5kKGJhc2VDb21tYW5kOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgaWYgKCFiYXNlQ29tbWFuZCB8fCAhYmFzZUNvbW1hbmQudHJpbSgpKSB7XG4gICAgcmV0dXJuICducG0gcnVuIGRldic7XG4gIH1cbiAgcmV0dXJuIGJhc2VDb21tYW5kO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aEVuZm9yY2VkUG9ydChjb21tYW5kOiBzdHJpbmcsIGZyYW1ld29yazogRnJhbWV3b3JrS2V5LCBwb3J0OiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgaWYgKCFwb3J0KSByZXR1cm4gY29tbWFuZDtcblxuICBjb25zdCB0cmltbWVkID0gY29tbWFuZC50cmltKCk7XG4gIGlmICghdHJpbW1lZCkgcmV0dXJuIGNvbW1hbmQ7XG5cbiAgY29uc3QgbmVlZHNFeHBsaWNpdFBvcnQgPSBmcmFtZXdvcmsgPT09ICd2aXRlJyB8fCBmcmFtZXdvcmsgPT09ICdhc3Rybyc7XG4gIGlmICghbmVlZHNFeHBsaWNpdFBvcnQpIHtcbiAgICByZXR1cm4gY29tbWFuZDtcbiAgfVxuXG4gIGNvbnN0IGNsaUFyZ3MgPSBgLS1wb3J0ICR7cG9ydH0gLS1ob3N0IDAuMC4wLjAgLS1zdHJpY3RQb3J0YDtcblxuICBpZiAoL15ucG1cXHMrcnVuXFxzKy9pLnRlc3QodHJpbW1lZCkpIHtcbiAgICByZXR1cm4gYCR7dHJpbW1lZH0gLS0gJHtjbGlBcmdzfWA7XG4gIH1cblxuICBpZiAoL15wbnBtXFxzKy9pLnRlc3QodHJpbW1lZCkpIHtcbiAgICByZXR1cm4gYCR7dHJpbW1lZH0gLS0gJHtjbGlBcmdzfWA7XG4gIH1cblxuICBpZiAoL155YXJuXFxzKy9pLnRlc3QodHJpbW1lZCkpIHtcbiAgICByZXR1cm4gYCR7dHJpbW1lZH0gJHtjbGlBcmdzfWA7XG4gIH1cblxuICBpZiAoL15idW5cXHMrL2kudGVzdCh0cmltbWVkKSkge1xuICAgIHJldHVybiBgJHt0cmltbWVkfSAke2NsaUFyZ3N9YDtcbiAgfVxuXG4gIGlmICh0cmltbWVkLmluY2x1ZGVzKCdhc3RybycpKSB7XG4gICAgcmV0dXJuIGAke3RyaW1tZWR9ICR7Y2xpQXJnc31gO1xuICB9XG5cbiAgaWYgKHRyaW1tZWQuaW5jbHVkZXMoJ3ZpdGUnKSkge1xuICAgIHJldHVybiBgJHt0cmltbWVkfSAke2NsaUFyZ3N9YDtcbiAgfVxuXG4gIHJldHVybiBgJHt0cmltbWVkfSAtLSAke2NsaUFyZ3N9YDtcbn1cbiJdLCJuYW1lcyI6WyJkYiIsInBvcnRBbGxvY2F0aW9ucyIsImFuZCIsImVxIiwiaXNOdWxsIiwic3FsIiwiRlJBTUVXT1JLX1JBTkdFUyIsIm5leHQiLCJzdGFydCIsImVuZCIsIm5vZGUiLCJhc3RybyIsInZpdGUiLCJkZWZhdWx0IiwiRlJBTUVXT1JLX0VOVl9NQVAiLCJyZXNvbHZlRnJhbWV3b3JrIiwicHJvamVjdFR5cGUiLCJydW5Db21tYW5kIiwibm9ybWFsaXplZFR5cGUiLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZWRDb21tYW5kIiwiaW5jbHVkZXMiLCJ0b0ZyYW1ld29ya0tleSIsInZhbHVlIiwicmVzZXJ2ZVBvcnRGb3JQcm9qZWN0IiwicGFyYW1zIiwiZnJhbWV3b3JrIiwicmFuZ2UiLCJwcmVmZXJyZWQiLCJwcmVmZXJyZWRQb3J0IiwidW5kZWZpbmVkIiwidHJhbnNhY3Rpb24iLCJ0eCIsInVwZGF0ZSIsInNldCIsInByb2plY3RJZCIsInJlc2VydmVkQXQiLCJ3aGVyZSIsImV4ZWN1dGUiLCJub3ciLCJEYXRlIiwidHJ5UmVzZXJ2ZVBvcnQiLCJwb3J0IiwiZXhpc3RpbmciLCJzZWxlY3QiLCJmcm9tIiwibGltaXQiLCJsZW5ndGgiLCJpbnNlcnQiLCJ2YWx1ZXMiLCJyZXNlcnZlZCIsInJldXNhYmxlIiwib3JkZXJCeSIsInJvd3MiLCJtYXhQb3J0IiwibmV4dFBvcnQiLCJNYXRoIiwibWF4IiwiRXJyb3IiLCJ1cGRhdGVQb3J0UmVzZXJ2YXRpb25Gb3JQcm9qZWN0IiwiYWN0dWFsUG9ydCIsImN1cnJlbnQiLCJmcmFtZXdvcmtLZXkiLCJvY2N1cHlpbmciLCJkZWxldGUiLCJyZWxlYXNlUG9ydEZvclByb2plY3QiLCJidWlsZEVudkZvckZyYW1ld29yayIsImVudktleXMiLCJlbnYiLCJmb3JFYWNoIiwia2V5IiwiU3RyaW5nIiwiREVWX1NFUlZFUl9QT1JUIiwiZ2V0UnVuQ29tbWFuZCIsImJhc2VDb21tYW5kIiwidHJpbSIsIndpdGhFbmZvcmNlZFBvcnQiLCJjb21tYW5kIiwidHJpbW1lZCIsIm5lZWRzRXhwbGljaXRQb3J0IiwiY2xpQXJncyIsInRlc3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/agent-core/src/lib/port-allocator.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/agent-core/src/lib/runner/event-stream.ts":
/*!****************************************************************!*\
  !*** ../../packages/agent-core/src/lib/runner/event-stream.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addRunnerEventSubscriber: () => (/* binding */ addRunnerEventSubscriber),\n/* harmony export */   publishRunnerEvent: () => (/* binding */ publishRunnerEvent),\n/* harmony export */   removeRunnerEventSubscriber: () => (/* binding */ removeRunnerEventSubscriber)\n/* harmony export */ });\nconst subscribers = global.__runnerEventSubscribers ?? new Map();\nglobal.__runnerEventSubscribers = subscribers;\nfunction addRunnerEventSubscriber(commandId, handler) {\n    const existing = subscribers.get(commandId);\n    if (existing) {\n        existing.add(handler);\n    } else {\n        subscribers.set(commandId, new Set([\n            handler\n        ]));\n    }\n    return ()=>removeRunnerEventSubscriber(commandId, handler);\n}\nfunction removeRunnerEventSubscriber(commandId, handler) {\n    const set = subscribers.get(commandId);\n    if (!set) return;\n    set.delete(handler);\n    if (set.size === 0) {\n        subscribers.delete(commandId);\n    }\n}\nfunction publishRunnerEvent(event) {\n    if (!event.commandId) {\n        return;\n    }\n    const set = subscribers.get(event.commandId);\n    if (!set) {\n        return;\n    }\n    for (const handler of set){\n        handler(event);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYWdlbnQtY29yZS9zcmMvbGliL3J1bm5lci9ldmVudC1zdHJlYW0udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBU0EsTUFBTUEsY0FDSkMsT0FBT0Msd0JBQXdCLElBQUksSUFBSUM7QUFFekNGLE9BQU9DLHdCQUF3QixHQUFHRjtBQUUzQixTQUFTSSx5QkFBeUJDLFNBQWlCLEVBQUVDLE9BQTJCO0lBQ3JGLE1BQU1DLFdBQVdQLFlBQVlRLEdBQUcsQ0FBQ0g7SUFDakMsSUFBSUUsVUFBVTtRQUNaQSxTQUFTRSxHQUFHLENBQUNIO0lBQ2YsT0FBTztRQUNMTixZQUFZVSxHQUFHLENBQUNMLFdBQVcsSUFBSU0sSUFBSTtZQUFDTDtTQUFRO0lBQzlDO0lBQ0EsT0FBTyxJQUFNTSw0QkFBNEJQLFdBQVdDO0FBQ3REO0FBRU8sU0FBU00sNEJBQTRCUCxTQUFpQixFQUFFQyxPQUEyQjtJQUN4RixNQUFNSSxNQUFNVixZQUFZUSxHQUFHLENBQUNIO0lBQzVCLElBQUksQ0FBQ0ssS0FBSztJQUNWQSxJQUFJRyxNQUFNLENBQUNQO0lBQ1gsSUFBSUksSUFBSUksSUFBSSxLQUFLLEdBQUc7UUFDbEJkLFlBQVlhLE1BQU0sQ0FBQ1I7SUFDckI7QUFDRjtBQUVPLFNBQVNVLG1CQUFtQkMsS0FBa0I7SUFDbkQsSUFBSSxDQUFDQSxNQUFNWCxTQUFTLEVBQUU7UUFDcEI7SUFDRjtJQUNBLE1BQU1LLE1BQU1WLFlBQVlRLEdBQUcsQ0FBQ1EsTUFBTVgsU0FBUztJQUMzQyxJQUFJLENBQUNLLEtBQUs7UUFDUjtJQUNGO0lBQ0EsS0FBSyxNQUFNSixXQUFXSSxJQUFLO1FBQ3pCSixRQUFRVTtJQUNWO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jb2R5ZGVhcmtsYW5kL3NlbnRyeXZpYmUvcGFja2FnZXMvYWdlbnQtY29yZS9zcmMvbGliL3J1bm5lci9ldmVudC1zdHJlYW0udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSdW5uZXJFdmVudCB9IGZyb20gJ0Avc2hhcmVkL3J1bm5lci9tZXNzYWdlcyc7XG5cbnR5cGUgUnVubmVyRXZlbnRIYW5kbGVyID0gKGV2ZW50OiBSdW5uZXJFdmVudCkgPT4gdm9pZDtcblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBfX3J1bm5lckV2ZW50U3Vic2NyaWJlcnM6IE1hcDxzdHJpbmcsIFNldDxSdW5uZXJFdmVudEhhbmRsZXI+PiB8IHVuZGVmaW5lZDtcbn1cblxuY29uc3Qgc3Vic2NyaWJlcnMgPVxuICBnbG9iYWwuX19ydW5uZXJFdmVudFN1YnNjcmliZXJzID8/IG5ldyBNYXA8c3RyaW5nLCBTZXQ8UnVubmVyRXZlbnRIYW5kbGVyPj4oKTtcblxuZ2xvYmFsLl9fcnVubmVyRXZlbnRTdWJzY3JpYmVycyA9IHN1YnNjcmliZXJzO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkUnVubmVyRXZlbnRTdWJzY3JpYmVyKGNvbW1hbmRJZDogc3RyaW5nLCBoYW5kbGVyOiBSdW5uZXJFdmVudEhhbmRsZXIpIHtcbiAgY29uc3QgZXhpc3RpbmcgPSBzdWJzY3JpYmVycy5nZXQoY29tbWFuZElkKTtcbiAgaWYgKGV4aXN0aW5nKSB7XG4gICAgZXhpc3RpbmcuYWRkKGhhbmRsZXIpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZXJzLnNldChjb21tYW5kSWQsIG5ldyBTZXQoW2hhbmRsZXJdKSk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHJlbW92ZVJ1bm5lckV2ZW50U3Vic2NyaWJlcihjb21tYW5kSWQsIGhhbmRsZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUnVubmVyRXZlbnRTdWJzY3JpYmVyKGNvbW1hbmRJZDogc3RyaW5nLCBoYW5kbGVyOiBSdW5uZXJFdmVudEhhbmRsZXIpIHtcbiAgY29uc3Qgc2V0ID0gc3Vic2NyaWJlcnMuZ2V0KGNvbW1hbmRJZCk7XG4gIGlmICghc2V0KSByZXR1cm47XG4gIHNldC5kZWxldGUoaGFuZGxlcik7XG4gIGlmIChzZXQuc2l6ZSA9PT0gMCkge1xuICAgIHN1YnNjcmliZXJzLmRlbGV0ZShjb21tYW5kSWQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwdWJsaXNoUnVubmVyRXZlbnQoZXZlbnQ6IFJ1bm5lckV2ZW50KSB7XG4gIGlmICghZXZlbnQuY29tbWFuZElkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHNldCA9IHN1YnNjcmliZXJzLmdldChldmVudC5jb21tYW5kSWQpO1xuICBpZiAoIXNldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGNvbnN0IGhhbmRsZXIgb2Ygc2V0KSB7XG4gICAgaGFuZGxlcihldmVudCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzdWJzY3JpYmVycyIsImdsb2JhbCIsIl9fcnVubmVyRXZlbnRTdWJzY3JpYmVycyIsIk1hcCIsImFkZFJ1bm5lckV2ZW50U3Vic2NyaWJlciIsImNvbW1hbmRJZCIsImhhbmRsZXIiLCJleGlzdGluZyIsImdldCIsImFkZCIsInNldCIsIlNldCIsInJlbW92ZVJ1bm5lckV2ZW50U3Vic2NyaWJlciIsImRlbGV0ZSIsInNpemUiLCJwdWJsaXNoUnVubmVyRXZlbnQiLCJldmVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/agent-core/src/lib/runner/event-stream.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/agent-core/src/lib/runner/log-store.ts":
/*!*************************************************************!*\
  !*** ../../packages/agent-core/src/lib/runner/log-store.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendRunnerLog: () => (/* binding */ appendRunnerLog),\n/* harmony export */   getRunnerLogs: () => (/* binding */ getRunnerLogs),\n/* harmony export */   markRunnerLogExit: () => (/* binding */ markRunnerLogExit),\n/* harmony export */   subscribeToRunnerLogs: () => (/* binding */ subscribeToRunnerLogs)\n/* harmony export */ });\nconst MAX_LOG_ENTRIES = 1000;\nconst logBuffers = new Map();\nconst listeners = new Map();\nfunction getBuffer(projectId) {\n    if (!logBuffers.has(projectId)) {\n        logBuffers.set(projectId, []);\n    }\n    return logBuffers.get(projectId);\n}\nfunction appendRunnerLog(projectId, entry) {\n    const buffer = getBuffer(projectId);\n    buffer.push(entry);\n    if (buffer.length > MAX_LOG_ENTRIES) {\n        buffer.splice(0, buffer.length - MAX_LOG_ENTRIES);\n    }\n    const projectListeners = listeners.get(projectId);\n    if (projectListeners) {\n        for (const listener of projectListeners){\n            listener({\n                type: 'log',\n                entry\n            });\n        }\n    }\n}\nfunction markRunnerLogExit(projectId, payload) {\n    const projectListeners = listeners.get(projectId);\n    if (projectListeners) {\n        for (const listener of projectListeners){\n            listener({\n                type: 'exit',\n                payload\n            });\n        }\n    }\n}\nfunction subscribeToRunnerLogs(projectId, listener) {\n    const set = listeners.get(projectId);\n    if (set) {\n        set.add(listener);\n    } else {\n        listeners.set(projectId, new Set([\n            listener\n        ]));\n    }\n    return ()=>{\n        const current = listeners.get(projectId);\n        if (!current) return;\n        current.delete(listener);\n        if (current.size === 0) {\n            listeners.delete(projectId);\n        }\n    };\n}\nfunction getRunnerLogs(projectId, limit) {\n    const buffer = logBuffers.get(projectId);\n    if (!buffer || buffer.length === 0) {\n        return [];\n    }\n    if (!limit || limit >= buffer.length) {\n        return [\n            ...buffer\n        ];\n    }\n    return buffer.slice(buffer.length - limit);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYWdlbnQtY29yZS9zcmMvbGliL3J1bm5lci9sb2ctc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLGtCQUFrQjtBQVl4QixNQUFNQyxhQUFhLElBQUlDO0FBQ3ZCLE1BQU1DLFlBQVksSUFBSUQ7QUFFdEIsU0FBU0UsVUFBVUMsU0FBaUI7SUFDbEMsSUFBSSxDQUFDSixXQUFXSyxHQUFHLENBQUNELFlBQVk7UUFDOUJKLFdBQVdNLEdBQUcsQ0FBQ0YsV0FBVyxFQUFFO0lBQzlCO0lBQ0EsT0FBT0osV0FBV08sR0FBRyxDQUFDSDtBQUN4QjtBQUVPLFNBQVNJLGdCQUFnQkosU0FBaUIsRUFBRUssS0FBZTtJQUNoRSxNQUFNQyxTQUFTUCxVQUFVQztJQUN6Qk0sT0FBT0MsSUFBSSxDQUFDRjtJQUNaLElBQUlDLE9BQU9FLE1BQU0sR0FBR2IsaUJBQWlCO1FBQ25DVyxPQUFPRyxNQUFNLENBQUMsR0FBR0gsT0FBT0UsTUFBTSxHQUFHYjtJQUNuQztJQUVBLE1BQU1lLG1CQUFtQlosVUFBVUssR0FBRyxDQUFDSDtJQUN2QyxJQUFJVSxrQkFBa0I7UUFDcEIsS0FBSyxNQUFNQyxZQUFZRCxpQkFBa0I7WUFDdkNDLFNBQVM7Z0JBQUVDLE1BQU07Z0JBQU9QO1lBQU07UUFDaEM7SUFDRjtBQUNGO0FBRU8sU0FBU1Esa0JBQ2RiLFNBQWlCLEVBQ2pCYyxPQUEwRDtJQUUxRCxNQUFNSixtQkFBbUJaLFVBQVVLLEdBQUcsQ0FBQ0g7SUFDdkMsSUFBSVUsa0JBQWtCO1FBQ3BCLEtBQUssTUFBTUMsWUFBWUQsaUJBQWtCO1lBQ3ZDQyxTQUFTO2dCQUFFQyxNQUFNO2dCQUFRRTtZQUFRO1FBQ25DO0lBQ0Y7QUFDRjtBQUVPLFNBQVNDLHNCQUNkZixTQUFpQixFQUNqQlcsUUFBeUM7SUFFekMsTUFBTVQsTUFBTUosVUFBVUssR0FBRyxDQUFDSDtJQUMxQixJQUFJRSxLQUFLO1FBQ1BBLElBQUljLEdBQUcsQ0FBQ0w7SUFDVixPQUFPO1FBQ0xiLFVBQVVJLEdBQUcsQ0FBQ0YsV0FBVyxJQUFJaUIsSUFBSTtZQUFDTjtTQUFTO0lBQzdDO0lBRUEsT0FBTztRQUNMLE1BQU1PLFVBQVVwQixVQUFVSyxHQUFHLENBQUNIO1FBQzlCLElBQUksQ0FBQ2tCLFNBQVM7UUFDZEEsUUFBUUMsTUFBTSxDQUFDUjtRQUNmLElBQUlPLFFBQVFFLElBQUksS0FBSyxHQUFHO1lBQ3RCdEIsVUFBVXFCLE1BQU0sQ0FBQ25CO1FBQ25CO0lBQ0Y7QUFDRjtBQUVPLFNBQVNxQixjQUFjckIsU0FBaUIsRUFBRXNCLEtBQWM7SUFDN0QsTUFBTWhCLFNBQVNWLFdBQVdPLEdBQUcsQ0FBQ0g7SUFDOUIsSUFBSSxDQUFDTSxVQUFVQSxPQUFPRSxNQUFNLEtBQUssR0FBRztRQUNsQyxPQUFPLEVBQUU7SUFDWDtJQUNBLElBQUksQ0FBQ2MsU0FBU0EsU0FBU2hCLE9BQU9FLE1BQU0sRUFBRTtRQUNwQyxPQUFPO2VBQUlGO1NBQU87SUFDcEI7SUFDQSxPQUFPQSxPQUFPaUIsS0FBSyxDQUFDakIsT0FBT0UsTUFBTSxHQUFHYztBQUN0QyIsInNvdXJjZXMiOlsiL1VzZXJzL2NvZHlkZWFya2xhbmQvc2VudHJ5dmliZS9wYWNrYWdlcy9hZ2VudC1jb3JlL3NyYy9saWIvcnVubmVyL2xvZy1zdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBNQVhfTE9HX0VOVFJJRVMgPSAxMDAwO1xuXG50eXBlIExvZ1N0cmVhbUV2ZW50ID1cbiAgfCB7IHR5cGU6ICdsb2cnOyBlbnRyeTogTG9nRW50cnkgfVxuICB8IHsgdHlwZTogJ2V4aXQnOyBwYXlsb2FkPzogeyBjb2RlPzogbnVtYmVyIHwgbnVsbDsgc2lnbmFsPzogc3RyaW5nIHwgbnVsbCB9IH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nRW50cnkge1xuICB0eXBlOiAnc3Rkb3V0JyB8ICdzdGRlcnInO1xuICBkYXRhOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuY29uc3QgbG9nQnVmZmVycyA9IG5ldyBNYXA8c3RyaW5nLCBMb2dFbnRyeVtdPigpO1xuY29uc3QgbGlzdGVuZXJzID0gbmV3IE1hcDxzdHJpbmcsIFNldDwoZXZlbnQ6IExvZ1N0cmVhbUV2ZW50KSA9PiB2b2lkPj4oKTtcblxuZnVuY3Rpb24gZ2V0QnVmZmVyKHByb2plY3RJZDogc3RyaW5nKSB7XG4gIGlmICghbG9nQnVmZmVycy5oYXMocHJvamVjdElkKSkge1xuICAgIGxvZ0J1ZmZlcnMuc2V0KHByb2plY3RJZCwgW10pO1xuICB9XG4gIHJldHVybiBsb2dCdWZmZXJzLmdldChwcm9qZWN0SWQpITtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFJ1bm5lckxvZyhwcm9qZWN0SWQ6IHN0cmluZywgZW50cnk6IExvZ0VudHJ5KSB7XG4gIGNvbnN0IGJ1ZmZlciA9IGdldEJ1ZmZlcihwcm9qZWN0SWQpO1xuICBidWZmZXIucHVzaChlbnRyeSk7XG4gIGlmIChidWZmZXIubGVuZ3RoID4gTUFYX0xPR19FTlRSSUVTKSB7XG4gICAgYnVmZmVyLnNwbGljZSgwLCBidWZmZXIubGVuZ3RoIC0gTUFYX0xPR19FTlRSSUVTKTtcbiAgfVxuXG4gIGNvbnN0IHByb2plY3RMaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZ2V0KHByb2plY3RJZCk7XG4gIGlmIChwcm9qZWN0TGlzdGVuZXJzKSB7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBwcm9qZWN0TGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcih7IHR5cGU6ICdsb2cnLCBlbnRyeSB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcmtSdW5uZXJMb2dFeGl0KFxuICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgcGF5bG9hZD86IHsgY29kZT86IG51bWJlciB8IG51bGw7IHNpZ25hbD86IHN0cmluZyB8IG51bGwgfVxuKSB7XG4gIGNvbnN0IHByb2plY3RMaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuZ2V0KHByb2plY3RJZCk7XG4gIGlmIChwcm9qZWN0TGlzdGVuZXJzKSB7XG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBwcm9qZWN0TGlzdGVuZXJzKSB7XG4gICAgICBsaXN0ZW5lcih7IHR5cGU6ICdleGl0JywgcGF5bG9hZCB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZVRvUnVubmVyTG9ncyhcbiAgcHJvamVjdElkOiBzdHJpbmcsXG4gIGxpc3RlbmVyOiAoZXZlbnQ6IExvZ1N0cmVhbUV2ZW50KSA9PiB2b2lkXG4pIHtcbiAgY29uc3Qgc2V0ID0gbGlzdGVuZXJzLmdldChwcm9qZWN0SWQpO1xuICBpZiAoc2V0KSB7XG4gICAgc2V0LmFkZChsaXN0ZW5lcik7XG4gIH0gZWxzZSB7XG4gICAgbGlzdGVuZXJzLnNldChwcm9qZWN0SWQsIG5ldyBTZXQoW2xpc3RlbmVyXSkpO1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50ID0gbGlzdGVuZXJzLmdldChwcm9qZWN0SWQpO1xuICAgIGlmICghY3VycmVudCkgcmV0dXJuO1xuICAgIGN1cnJlbnQuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICBpZiAoY3VycmVudC5zaXplID09PSAwKSB7XG4gICAgICBsaXN0ZW5lcnMuZGVsZXRlKHByb2plY3RJZCk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVubmVyTG9ncyhwcm9qZWN0SWQ6IHN0cmluZywgbGltaXQ/OiBudW1iZXIpOiBMb2dFbnRyeVtdIHtcbiAgY29uc3QgYnVmZmVyID0gbG9nQnVmZmVycy5nZXQocHJvamVjdElkKTtcbiAgaWYgKCFidWZmZXIgfHwgYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoIWxpbWl0IHx8IGxpbWl0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICByZXR1cm4gWy4uLmJ1ZmZlcl07XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5zbGljZShidWZmZXIubGVuZ3RoIC0gbGltaXQpO1xufVxuIl0sIm5hbWVzIjpbIk1BWF9MT0dfRU5UUklFUyIsImxvZ0J1ZmZlcnMiLCJNYXAiLCJsaXN0ZW5lcnMiLCJnZXRCdWZmZXIiLCJwcm9qZWN0SWQiLCJoYXMiLCJzZXQiLCJnZXQiLCJhcHBlbmRSdW5uZXJMb2ciLCJlbnRyeSIsImJ1ZmZlciIsInB1c2giLCJsZW5ndGgiLCJzcGxpY2UiLCJwcm9qZWN0TGlzdGVuZXJzIiwibGlzdGVuZXIiLCJ0eXBlIiwibWFya1J1bm5lckxvZ0V4aXQiLCJwYXlsb2FkIiwic3Vic2NyaWJlVG9SdW5uZXJMb2dzIiwiYWRkIiwiU2V0IiwiY3VycmVudCIsImRlbGV0ZSIsInNpemUiLCJnZXRSdW5uZXJMb2dzIiwibGltaXQiLCJzbGljZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/agent-core/src/lib/runner/log-store.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/runner/events/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/runner/events/route.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   HEAD: () => (/* binding */ HEAD),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_app_render_work_unit_async_storage_external_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/app-render/work-unit-async-storage.external.js */ \"./work-unit-async-storage.external\");\n/* harmony import */ var next_dist_server_app_render_work_unit_async_storage_external_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_work_unit_async_storage_external_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db/client */ \"(rsc)/./src/lib/db/client.ts\");\n/* harmony import */ var _lib_db_schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db/schema */ \"(rsc)/./src/lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/../../node_modules/.pnpm/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _lib_port_allocator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/port-allocator */ \"(rsc)/./src/lib/port-allocator.ts\");\n/* harmony import */ var _lib_runner_event_stream__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/runner/event-stream */ \"(rsc)/./src/lib/runner/event-stream.ts\");\n/* harmony import */ var _lib_runner_log_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/runner/log-store */ \"(rsc)/./src/lib/runner/log-store.ts\");\n/* harmony import */ var _sentry_nextjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/nextjs */ \"(rsc)/../../node_modules/.pnpm/@sentry+nextjs@file+apps+sentryvibe+vendor+sentry-nextjs-10.17.0.tgz_@opentelemetry+context-a_b6kikyy2wwnqfivki42o4vmzhq/node_modules/@sentry/nextjs/build/cjs/index.server.js\");\n/* harmony import */ var _sentry_nextjs__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_sentry_nextjs__WEBPACK_IMPORTED_MODULE_8__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db_client__WEBPACK_IMPORTED_MODULE_2__, _lib_port_allocator__WEBPACK_IMPORTED_MODULE_4__]);\n([_lib_db_client__WEBPACK_IMPORTED_MODULE_2__, _lib_port_allocator__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\nfunction ensureAuthorized(request) {\n    const authHeader = request.headers.get('authorization');\n    const expected = process.env.RUNNER_SHARED_SECRET;\n    if (!expected) {\n        throw new Error('RUNNER_SHARED_SECRET is not configured');\n    }\n    if (!authHeader?.startsWith('Bearer ') || authHeader.slice('Bearer '.length).trim() !== expected) {\n        return false;\n    }\n    return true;\n}\nasync function POST$1(request) {\n    try {\n        if (!ensureAuthorized(request)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const event = await request.json();\n        if (!event.projectId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                ok: true\n            });\n        }\n        console.log('[runner-event]', event.type, event.commandId ?? 'no-command', event.projectId ?? 'no-project');\n        if (event.type === 'build-stream' && typeof event.data === 'string') {\n            console.log('[runner-event] chunk preview', event.data.slice(0, 200));\n        }\n        (0,_lib_runner_event_stream__WEBPACK_IMPORTED_MODULE_5__.publishRunnerEvent)(event);\n        if (event.type === 'log-chunk' && typeof event.data === 'string') {\n            (0,_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_6__.appendRunnerLog)(event.projectId, {\n                type: event.stream === 'stderr' ? 'stderr' : 'stdout',\n                data: event.data,\n                timestamp: new Date(event.timestamp ?? Date.now())\n            });\n        } else if (event.type === 'process-exited') {\n            (0,_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_6__.markRunnerLogExit)(event.projectId, {\n                code: event.exitCode,\n                signal: event.signal ?? undefined\n            });\n        }\n        switch(event.type){\n            case 'port-detected':\n                {\n                    await _lib_db_client__WEBPACK_IMPORTED_MODULE_2__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects).set({\n                        devServerStatus: 'running',\n                        devServerPort: event.port,\n                        port: event.port,\n                        lastActivityAt: new Date()\n                    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects.id, event.projectId));\n                    await (0,_lib_port_allocator__WEBPACK_IMPORTED_MODULE_4__.updatePortReservationForProject)(event.projectId, event.port);\n                    break;\n                }\n            case 'process-exited':\n                {\n                    const cleanShutdown = event.exitCode === 0 || event.signal === 'SIGTERM' || event.signal === 'SIGINT';\n                    await _lib_db_client__WEBPACK_IMPORTED_MODULE_2__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects).set({\n                        devServerStatus: cleanShutdown ? 'stopped' : 'failed',\n                        devServerPid: null,\n                        devServerPort: null,\n                        lastActivityAt: new Date()\n                    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects.id, event.projectId));\n                    await (0,_lib_port_allocator__WEBPACK_IMPORTED_MODULE_4__.releasePortForProject)(event.projectId);\n                    break;\n                }\n            case 'project-metadata':\n                {\n                    // Update project metadata (path, runCommand, projectType, port) from template download\n                    const metadata = event.payload;\n                    if (metadata && event.projectId) {\n                        console.log('[runner-event] Updating project metadata:', metadata);\n                        await _lib_db_client__WEBPACK_IMPORTED_MODULE_2__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects).set({\n                            path: metadata.path,\n                            projectType: metadata.projectType,\n                            runCommand: metadata.runCommand,\n                            port: metadata.port,\n                            lastActivityAt: new Date()\n                        }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects.id, event.projectId));\n                    }\n                    break;\n                }\n            case 'build-completed':\n                {\n                    // Get project details to find actual path\n                    const project = await _lib_db_client__WEBPACK_IMPORTED_MODULE_2__.db.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects.id, event.projectId)).limit(1);\n                    if (project.length === 0) {\n                        console.warn('Project not found for build-completed event:', event.projectId);\n                        break;\n                    }\n                    const projectPath = project[0].path;\n                    if (!projectPath) {\n                        console.warn('Project has no path set:', event.projectId);\n                        break;\n                    }\n                    let runCommand = null;\n                    try {\n                        const { readFileSync } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! fs */ \"fs\", 23));\n                        const packageJsonPath = `${projectPath}/package.json`;\n                        const packageJson = JSON.parse(readFileSync(packageJsonPath, 'utf-8'));\n                        // Detect run command from scripts\n                        // Always use 'dev' script if available (port controlled via env vars)\n                        if (packageJson.scripts?.dev) {\n                            // Determine which package manager to use\n                            const { existsSync } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! fs */ \"fs\", 23));\n                            if (existsSync(`${projectPath}/pnpm-lock.yaml`)) {\n                                runCommand = 'pnpm dev';\n                            } else if (existsSync(`${projectPath}/yarn.lock`)) {\n                                runCommand = 'yarn dev';\n                            } else if (existsSync(`${projectPath}/package-lock.json`)) {\n                                runCommand = 'npm run dev';\n                            } else {\n                                // Default to npm if no lock file\n                                runCommand = 'npm run dev';\n                            }\n                        } else if (packageJson.scripts?.start) {\n                            // Fallback to start if no dev script\n                            const { existsSync } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! fs */ \"fs\", 23));\n                            if (existsSync(`${projectPath}/pnpm-lock.yaml`)) {\n                                runCommand = 'pnpm start';\n                            } else if (existsSync(`${projectPath}/yarn.lock`)) {\n                                runCommand = 'yarn start';\n                            } else {\n                                runCommand = 'npm run start';\n                            }\n                        }\n                    } catch (error) {\n                        console.error('Failed to detect run command:', error);\n                    }\n                    // Mark project as completed and save run command\n                    await _lib_db_client__WEBPACK_IMPORTED_MODULE_2__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects).set({\n                        status: 'completed',\n                        runCommand,\n                        lastActivityAt: new Date()\n                    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects.id, event.projectId));\n                    break;\n                }\n            case 'build-failed':\n            case 'build-stream':\n                break;\n            case 'error':\n                {\n                    await _lib_db_client__WEBPACK_IMPORTED_MODULE_2__.db.update(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects).set({\n                        devServerStatus: 'failed',\n                        errorMessage: event.error,\n                        lastActivityAt: new Date()\n                    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.projects.id, event.projectId));\n                    break;\n                }\n            default:\n                break;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            ok: true\n        });\n    } catch (error) {\n        console.error('Failed to process runner event', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: 'Failed to process runner event'\n        }, {\n            status: 500\n        });\n    }\n}\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...next_dist_server_app_render_work_unit_async_storage_external_js__WEBPACK_IMPORTED_MODULE_0__ } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nfunction wrapHandler(handler, method) {\n  // Running the instrumentation code during the build phase will mark any function as \"dynamic\" because we're accessing\n  // the Request object. We do not want to turn handlers dynamic so we skip instrumentation in the build phase.\n  if (process.env.NEXT_PHASE === 'phase-production-build') {\n    return handler;\n  }\n\n  if (typeof handler !== 'function') {\n    return handler;\n  }\n\n  return new Proxy(handler, {\n    apply: (originalFunction, thisArg, args) => {\n      let headers = undefined;\n\n      // We try-catch here just in case the API around `requestAsyncStorage` changes unexpectedly since it is not public API\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore();\n        headers = requestAsyncStore?.headers;\n      } catch {\n        /** empty */\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return _sentry_nextjs__WEBPACK_IMPORTED_MODULE_8__.wrapRouteHandlerWithSentry(originalFunction , {\n        method,\n        parameterizedRoute: '/api/runner/events',\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst GET = wrapHandler(undefined , 'GET');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst POST = wrapHandler(POST$1 , 'POST');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst PUT = wrapHandler(undefined , 'PUT');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst PATCH = wrapHandler(undefined , 'PATCH');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst DELETE = wrapHandler(undefined , 'DELETE');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst HEAD = wrapHandler(undefined , 'HEAD');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst OPTIONS = wrapHandler(undefined , 'OPTIONS');\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ydW5uZXIvZXZlbnRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTQSxTQUFTQSxpQkFBaUJDLE9BQWdCO0FBQ3hDLFVBQU1DLFVBQUFBLEdBQWFELE9BQUFBLENBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0FBQ3ZDLFVBQU1DLFFBQUFBLEdBQVdDLE9BQUFBLENBQVFDLEdBQUcsQ0FBQ0Msb0JBQW9CO0FBRWpELFFBQUksQ0FBQ0gsUUFBQUEsRUFBVTtBQUNiLGNBQU0sSUFBSUksS0FBQUEsQ0FBTTtBQUNsQjtBQUVBLFFBQUksQ0FBQ1AsVUFBQUEsRUFBWVEsVUFBQUEsQ0FBVyxjQUFjUixVQUFBQSxDQUFXUyxLQUFLLENBQUMsVUFBVUMsTUFBTSxFQUFFQyxJQUFJLE9BQU9SLFFBQUFBLEVBQVU7UUFDaEcsT0FBTztBQUNUO0lBQ0EsT0FBTztBQUNUO0FBRU8sZUFBZVMsT0FBS2IsT0FBZ0I7SUFDekMsSUFBSTtRQUNGLElBQUksQ0FBQ0QsaUJBQWlCQyxPQUFBQSxDQUFBQSxFQUFVO1lBQzlCLE9BQU9jLHFEQUFBQSxDQUFhQyxJQUFJLENBQUM7Z0JBQUVDLEtBQUFBLEVBQU87YUFBZSxFQUFHO2dCQUFFQyxNQUFBQSxFQUFRO0FBQUk7QUFDcEU7UUFFQSxNQUFNQyxLQUFBQSxHQUFTLE1BQU1sQixPQUFBQSxDQUFRZSxJQUFJO1FBRWpDLElBQUksQ0FBQ0csS0FBQUEsQ0FBTUMsU0FBUyxFQUFFO1lBQ3BCLE9BQU9MLHFEQUFBQSxDQUFhQyxJQUFJLENBQUM7Z0JBQUVLLEVBQUFBLEVBQUk7QUFBSztBQUN0QztBQUVBQyxRQUFBQSxPQUFBQSxDQUFRQyxHQUFHLENBQUMsa0JBQWtCSixLQUFBQSxDQUFNSyxJQUFJLEVBQUVMLEtBQUFBLENBQU1NLFNBQVMsSUFBSSxjQUFjTixLQUFBQSxDQUFNQyxTQUFTLElBQUk7UUFDOUYsSUFBSUQsS0FBQUEsQ0FBTUss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bW9kdWxlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB0eXBlIHsgUnVubmVyRXZlbnQgfSBmcm9tICdAL3NoYXJlZC9ydW5uZXIvbWVzc2FnZXMnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9kYi9jbGllbnQnO1xuaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tICdAL2xpYi9kYi9zY2hlbWEnO1xuaW1wb3J0IHsgZXEgfSBmcm9tICdkcml6emxlLW9ybSc7XG5pbXBvcnQgeyByZWxlYXNlUG9ydEZvclByb2plY3QsIHVwZGF0ZVBvcnRSZXNlcnZhdGlvbkZvclByb2plY3QgfSBmcm9tICdAL2xpYi9wb3J0LWFsbG9jYXRvcic7XG5pbXBvcnQgeyBwdWJsaXNoUnVubmVyRXZlbnQgfSBmcm9tICdAL2xpYi9ydW5uZXIvZXZlbnQtc3RyZWFtJztcbmltcG9ydCB7IGFwcGVuZFJ1bm5lckxvZywgbWFya1J1bm5lckxvZ0V4aXQgfSBmcm9tICdAL2xpYi9ydW5uZXIvbG9nLXN0b3JlJztcblxuZnVuY3Rpb24gZW5zdXJlQXV0aG9yaXplZChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJyk7XG4gIGNvbnN0IGV4cGVjdGVkID0gcHJvY2Vzcy5lbnYuUlVOTkVSX1NIQVJFRF9TRUNSRVQ7XG5cbiAgaWYgKCFleHBlY3RlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUlVOTkVSX1NIQVJFRF9TRUNSRVQgaXMgbm90IGNvbmZpZ3VyZWQnKTtcbiAgfVxuXG4gIGlmICghYXV0aEhlYWRlcj8uc3RhcnRzV2l0aCgnQmVhcmVyICcpIHx8IGF1dGhIZWFkZXIuc2xpY2UoJ0JlYXJlciAnLmxlbmd0aCkudHJpbSgpICE9PSBleHBlY3RlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGlmICghZW5zdXJlQXV0aG9yaXplZChyZXF1ZXN0KSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQgPSAoYXdhaXQgcmVxdWVzdC5qc29uKCkpIGFzIFJ1bm5lckV2ZW50O1xuXG4gICAgaWYgKCFldmVudC5wcm9qZWN0SWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbcnVubmVyLWV2ZW50XScsIGV2ZW50LnR5cGUsIGV2ZW50LmNvbW1hbmRJZCA/PyAnbm8tY29tbWFuZCcsIGV2ZW50LnByb2plY3RJZCA/PyAnbm8tcHJvamVjdCcpO1xuICAgIGlmIChldmVudC50eXBlID09PSAnYnVpbGQtc3RyZWFtJyAmJiB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdbcnVubmVyLWV2ZW50XSBjaHVuayBwcmV2aWV3JywgZXZlbnQuZGF0YS5zbGljZSgwLCAyMDApKTtcbiAgICB9XG5cbiAgICBwdWJsaXNoUnVubmVyRXZlbnQoZXZlbnQpO1xuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdsb2ctY2h1bmsnICYmIHR5cGVvZiBldmVudC5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgYXBwZW5kUnVubmVyTG9nKGV2ZW50LnByb2plY3RJZCwge1xuICAgICAgICB0eXBlOiBldmVudC5zdHJlYW0gPT09ICdzdGRlcnInID8gJ3N0ZGVycicgOiAnc3Rkb3V0JyxcbiAgICAgICAgZGF0YTogZXZlbnQuZGF0YSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShldmVudC50aW1lc3RhbXAgPz8gRGF0ZS5ub3coKSksXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdwcm9jZXNzLWV4aXRlZCcpIHtcbiAgICAgIG1hcmtSdW5uZXJMb2dFeGl0KGV2ZW50LnByb2plY3RJZCwge1xuICAgICAgICBjb2RlOiBldmVudC5leGl0Q29kZSxcbiAgICAgICAgc2lnbmFsOiBldmVudC5zaWduYWwgPz8gdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlICdwb3J0LWRldGVjdGVkJzoge1xuICAgICAgICBhd2FpdCBkYi51cGRhdGUocHJvamVjdHMpXG4gICAgICAgICAgLnNldCh7XG4gICAgICAgICAgICBkZXZTZXJ2ZXJTdGF0dXM6ICdydW5uaW5nJyxcbiAgICAgICAgICAgIGRldlNlcnZlclBvcnQ6IGV2ZW50LnBvcnQsXG4gICAgICAgICAgICBwb3J0OiBldmVudC5wb3J0LFxuICAgICAgICAgICAgbGFzdEFjdGl2aXR5QXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgfSlcbiAgICAgICAgICAud2hlcmUoZXEocHJvamVjdHMuaWQsIGV2ZW50LnByb2plY3RJZCkpO1xuXG4gICAgICAgIGF3YWl0IHVwZGF0ZVBvcnRSZXNlcnZhdGlvbkZvclByb2plY3QoZXZlbnQucHJvamVjdElkLCBldmVudC5wb3J0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9jZXNzLWV4aXRlZCc6IHtcbiAgICAgICAgY29uc3QgY2xlYW5TaHV0ZG93biA9IGV2ZW50LmV4aXRDb2RlID09PSAwIHx8IGV2ZW50LnNpZ25hbCA9PT0gJ1NJR1RFUk0nIHx8IGV2ZW50LnNpZ25hbCA9PT0gJ1NJR0lOVCc7XG4gICAgICAgIGF3YWl0IGRiLnVwZGF0ZShwcm9qZWN0cylcbiAgICAgICAgICAuc2V0KHtcbiAgICAgICAgICAgIGRldlNlcnZlclN0YXR1czogY2xlYW5TaHV0ZG93biA/ICdzdG9wcGVkJyA6ICdmYWlsZWQnLFxuICAgICAgICAgICAgZGV2U2VydmVyUGlkOiBudWxsLFxuICAgICAgICAgICAgZGV2U2VydmVyUG9ydDogbnVsbCxcbiAgICAgICAgICAgIGxhc3RBY3Rpdml0eUF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLndoZXJlKGVxKHByb2plY3RzLmlkLCBldmVudC5wcm9qZWN0SWQpKTtcblxuICAgICAgICBhd2FpdCByZWxlYXNlUG9ydEZvclByb2plY3QoZXZlbnQucHJvamVjdElkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdwcm9qZWN0LW1ldGFkYXRhJzoge1xuICAgICAgICAvLyBVcGRhdGUgcHJvamVjdCBtZXRhZGF0YSAocGF0aCwgcnVuQ29tbWFuZCwgcHJvamVjdFR5cGUsIHBvcnQpIGZyb20gdGVtcGxhdGUgZG93bmxvYWRcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSAoZXZlbnQgYXMgYW55KS5wYXlsb2FkO1xuICAgICAgICBpZiAobWV0YWRhdGEgJiYgZXZlbnQucHJvamVjdElkKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1tydW5uZXItZXZlbnRdIFVwZGF0aW5nIHByb2plY3QgbWV0YWRhdGE6JywgbWV0YWRhdGEpO1xuICAgICAgICAgIGF3YWl0IGRiLnVwZGF0ZShwcm9qZWN0cylcbiAgICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgICBwYXRoOiBtZXRhZGF0YS5wYXRoLFxuICAgICAgICAgICAgICBwcm9qZWN0VHlwZTogbWV0YWRhdGEucHJvamVjdFR5cGUsXG4gICAgICAgICAgICAgIHJ1bkNvbW1hbmQ6IG1ldGFkYXRhLnJ1bkNvbW1hbmQsXG4gICAgICAgICAgICAgIHBvcnQ6IG1ldGFkYXRhLnBvcnQsXG4gICAgICAgICAgICAgIGxhc3RBY3Rpdml0eUF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVyZShlcShwcm9qZWN0cy5pZCwgZXZlbnQucHJvamVjdElkKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdidWlsZC1jb21wbGV0ZWQnOiB7XG4gICAgICAgIC8vIEdldCBwcm9qZWN0IGRldGFpbHMgdG8gZmluZCBhY3R1YWwgcGF0aFxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShwcm9qZWN0cykud2hlcmUoZXEocHJvamVjdHMuaWQsIGV2ZW50LnByb2plY3RJZCkpLmxpbWl0KDEpO1xuXG4gICAgICAgIGlmIChwcm9qZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignUHJvamVjdCBub3QgZm91bmQgZm9yIGJ1aWxkLWNvbXBsZXRlZCBldmVudDonLCBldmVudC5wcm9qZWN0SWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvamVjdFBhdGggPSBwcm9qZWN0WzBdLnBhdGg7XG4gICAgICAgIGlmICghcHJvamVjdFBhdGgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb2plY3QgaGFzIG5vIHBhdGggc2V0OicsIGV2ZW50LnByb2plY3RJZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcnVuQ29tbWFuZCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyByZWFkRmlsZVN5bmMgfSA9IGF3YWl0IGltcG9ydCgnZnMnKTtcbiAgICAgICAgICBjb25zdCBwYWNrYWdlSnNvblBhdGggPSBgJHtwcm9qZWN0UGF0aH0vcGFja2FnZS5qc29uYDtcbiAgICAgICAgICBjb25zdCBwYWNrYWdlSnNvbiA9IEpTT04ucGFyc2UocmVhZEZpbGVTeW5jKHBhY2thZ2VKc29uUGF0aCwgJ3V0Zi04JykpO1xuXG4gICAgICAgICAgLy8gRGV0ZWN0IHJ1biBjb21tYW5kIGZyb20gc2NyaXB0c1xuICAgICAgICAgIC8vIEFsd2F5cyB1c2UgJ2Rldicgc2NyaXB0IGlmIGF2YWlsYWJsZSAocG9ydCBjb250cm9sbGVkIHZpYSBlbnYgdmFycylcbiAgICAgICAgICBpZiAocGFja2FnZUpzb24uc2NyaXB0cz8uZGV2KSB7XG4gICAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggcGFja2FnZSBtYW5hZ2VyIHRvIHVzZVxuICAgICAgICAgICAgY29uc3QgeyBleGlzdHNTeW5jIH0gPSBhd2FpdCBpbXBvcnQoJ2ZzJyk7XG4gICAgICAgICAgICBpZiAoZXhpc3RzU3luYyhgJHtwcm9qZWN0UGF0aH0vcG5wbS1sb2NrLnlhbWxgKSkge1xuICAgICAgICAgICAgICBydW5Db21tYW5kID0gJ3BucG0gZGV2JztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhpc3RzU3luYyhgJHtwcm9qZWN0UGF0aH0veWFybi5sb2NrYCkpIHtcbiAgICAgICAgICAgICAgcnVuQ29tbWFuZCA9ICd5YXJuIGRldic7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV4aXN0c1N5bmMoYCR7cHJvamVjdFBhdGh9L3BhY2thZ2UtbG9jay5qc29uYCkpIHtcbiAgICAgICAgICAgICAgcnVuQ29tbWFuZCA9ICducG0gcnVuIGRldic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIG5wbSBpZiBubyBsb2NrIGZpbGVcbiAgICAgICAgICAgICAgcnVuQ29tbWFuZCA9ICducG0gcnVuIGRldic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChwYWNrYWdlSnNvbi5zY3JpcHRzPy5zdGFydCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gc3RhcnQgaWYgbm8gZGV2IHNjcmlwdFxuICAgICAgICAgICAgY29uc3QgeyBleGlzdHNTeW5jIH0gPSBhd2FpdCBpbXBvcnQoJ2ZzJyk7XG4gICAgICAgICAgICBpZiAoZXhpc3RzU3luYyhgJHtwcm9qZWN0UGF0aH0vcG5wbS1sb2NrLnlhbWxgKSkge1xuICAgICAgICAgICAgICBydW5Db21tYW5kID0gJ3BucG0gc3RhcnQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChleGlzdHNTeW5jKGAke3Byb2plY3RQYXRofS95YXJuLmxvY2tgKSkge1xuICAgICAgICAgICAgICBydW5Db21tYW5kID0gJ3lhcm4gc3RhcnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcnVuQ29tbWFuZCA9ICducG0gcnVuIHN0YXJ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRldGVjdCBydW4gY29tbWFuZDonLCBlcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYXJrIHByb2plY3QgYXMgY29tcGxldGVkIGFuZCBzYXZlIHJ1biBjb21tYW5kXG4gICAgICAgIGF3YWl0IGRiLnVwZGF0ZShwcm9qZWN0cylcbiAgICAgICAgICAuc2V0KHtcbiAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICBydW5Db21tYW5kLFxuICAgICAgICAgICAgbGFzdEFjdGl2aXR5QXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgfSlcbiAgICAgICAgICAud2hlcmUoZXEocHJvamVjdHMuaWQsIGV2ZW50LnByb2plY3RJZCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2J1aWxkLWZhaWxlZCc6XG4gICAgICBjYXNlICdidWlsZC1zdHJlYW0nOlxuICAgICAgICAvLyBVSSBzdHJlYW0gZXZlbnRzIGhhbmRsZWQgdmlhIGV2ZW50IGJ1czsgREIgYWxyZWFkeSB1cGRhdGVkIHdpdGhpbiBidWlsZCBwaXBlbGluZS5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlcnJvcic6IHtcbiAgICAgICAgYXdhaXQgZGIudXBkYXRlKHByb2plY3RzKVxuICAgICAgICAgIC5zZXQoe1xuICAgICAgICAgICAgZGV2U2VydmVyU3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZXZlbnQuZXJyb3IsXG4gICAgICAgICAgICBsYXN0QWN0aXZpdHlBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC53aGVyZShlcShwcm9qZWN0cy5pZCwgZXZlbnQucHJvamVjdElkKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHByb2Nlc3MgcnVubmVyIGV2ZW50JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHByb2Nlc3MgcnVubmVyIGV2ZW50JyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBvcmlnTW9kdWxlIGZyb20gJ25leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci93b3JrLXVuaXQtYXN5bmMtc3RvcmFnZS5leHRlcm5hbC5qcyc7XG5pbXBvcnQgKiBhcyBzZXJ2ZXJDb21wb25lbnRNb2R1bGUgZnJvbSAnX19TRU5UUllfV1JBUFBJTkdfVEFSR0VUX0ZJTEVfXy5janMnO1xuZXhwb3J0ICogZnJvbSAnX19TRU5UUllfV1JBUFBJTkdfVEFSR0VUX0ZJTEVfXy5janMnO1xuZXhwb3J0IHt9IGZyb20gJ19fU0VOVFJZX1dSQVBQSU5HX1RBUkdFVF9GSUxFX18uY2pzJztcbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L25leHRqcyc7XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgQmVjYXVzZSB3ZSBjYW5ub3QgYmUgc3VyZSBpZiB0aGUgUmVxdWVzdEFzeW5jU3RvcmFnZSBtb2R1bGUgZXhpc3RzIChpdCBpcyBub3QgcGFydCBvZiB0aGUgTmV4dC5qcyBwdWJsaWNcbi8vIEFQSSkgd2UgdXNlIGEgc2hpbSBpZiBpdCBkb2Vzbid0IGV4aXN0LiBUaGUgbG9naWMgZm9yIHRoaXMgaXMgaW4gdGhlIHdyYXBwaW5nIGxvYWRlci5cblxuY29uc3QgYXN5bmNTdG9yYWdlTW9kdWxlID0geyAuLi5vcmlnTW9kdWxlIH0gO1xuXG5jb25zdCByZXF1ZXN0QXN5bmNTdG9yYWdlID1cbiAgJ3dvcmtVbml0QXN5bmNTdG9yYWdlJyBpbiBhc3luY1N0b3JhZ2VNb2R1bGVcbiAgICA/IGFzeW5jU3RvcmFnZU1vZHVsZS53b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIDogJ3JlcXVlc3RBc3luY1N0b3JhZ2UnIGluIGFzeW5jU3RvcmFnZU1vZHVsZVxuICAgICAgPyBhc3luY1N0b3JhZ2VNb2R1bGUucmVxdWVzdEFzeW5jU3RvcmFnZVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbmZ1bmN0aW9uIHdyYXBIYW5kbGVyKGhhbmRsZXIsIG1ldGhvZCkge1xuICAvLyBSdW5uaW5nIHRoZSBpbnN0cnVtZW50YXRpb24gY29kZSBkdXJpbmcgdGhlIGJ1aWxkIHBoYXNlIHdpbGwgbWFyayBhbnkgZnVuY3Rpb24gYXMgXCJkeW5hbWljXCIgYmVjYXVzZSB3ZSdyZSBhY2Nlc3NpbmdcbiAgLy8gdGhlIFJlcXVlc3Qgb2JqZWN0LiBXZSBkbyBub3Qgd2FudCB0byB0dXJuIGhhbmRsZXJzIGR5bmFtaWMgc28gd2Ugc2tpcCBpbnN0cnVtZW50YXRpb24gaW4gdGhlIGJ1aWxkIHBoYXNlLlxuICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QSEFTRSA9PT0gJ3BoYXNlLXByb2R1Y3Rpb24tYnVpbGQnKSB7XG4gICAgcmV0dXJuIGhhbmRsZXI7XG4gIH1cblxuICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaGFuZGxlcjtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJveHkoaGFuZGxlciwge1xuICAgIGFwcGx5OiAob3JpZ2luYWxGdW5jdGlvbiwgdGhpc0FyZywgYXJncykgPT4ge1xuICAgICAgbGV0IGhlYWRlcnMgPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIFdlIHRyeS1jYXRjaCBoZXJlIGp1c3QgaW4gY2FzZSB0aGUgQVBJIGFyb3VuZCBgcmVxdWVzdEFzeW5jU3RvcmFnZWAgY2hhbmdlcyB1bmV4cGVjdGVkbHkgc2luY2UgaXQgaXMgbm90IHB1YmxpYyBBUElcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RBc3luY1N0b3JlID0gcmVxdWVzdEFzeW5jU3RvcmFnZT8uZ2V0U3RvcmUoKTtcbiAgICAgICAgaGVhZGVycyA9IHJlcXVlc3RBc3luY1N0b3JlPy5oZWFkZXJzO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8qKiBlbXB0eSAqL1xuICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgcmV0dXJuIFNlbnRyeS53cmFwUm91dGVIYW5kbGVyV2l0aFNlbnRyeShvcmlnaW5hbEZ1bmN0aW9uICwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIHBhcmFtZXRlcml6ZWRSb3V0ZTogJy9hcGkvcnVubmVyL2V2ZW50cycsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICB9KS5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICB9LFxuICB9KTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuY29uc3QgR0VUID0gd3JhcEhhbmRsZXIoc2VydmVyQ29tcG9uZW50TW9kdWxlLkdFVCAsICdHRVQnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbmNvbnN0IFBPU1QgPSB3cmFwSGFuZGxlcihzZXJ2ZXJDb21wb25lbnRNb2R1bGUuUE9TVCAsICdQT1NUJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG5jb25zdCBQVVQgPSB3cmFwSGFuZGxlcihzZXJ2ZXJDb21wb25lbnRNb2R1bGUuUFVUICwgJ1BVVCcpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuY29uc3QgUEFUQ0ggPSB3cmFwSGFuZGxlcihzZXJ2ZXJDb21wb25lbnRNb2R1bGUuUEFUQ0ggLCAnUEFUQ0gnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbmNvbnN0IERFTEVURSA9IHdyYXBIYW5kbGVyKHNlcnZlckNvbXBvbmVudE1vZHVsZS5ERUxFVEUgLCAnREVMRVRFJyk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG5jb25zdCBIRUFEID0gd3JhcEhhbmRsZXIoc2VydmVyQ29tcG9uZW50TW9kdWxlLkhFQUQgLCAnSEVBRCcpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuY29uc3QgT1BUSU9OUyA9IHdyYXBIYW5kbGVyKHNlcnZlckNvbXBvbmVudE1vZHVsZS5PUFRJT05TICwgJ09QVElPTlMnKTtcblxuZXhwb3J0IHsgREVMRVRFLCBHRVQsIEhFQUQsIE9QVElPTlMsIFBBVENILCBQT1NULCBQVVQgfTtcbiJdLCJuYW1lcyI6WyJlbnN1cmVBdXRob3JpemVkIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0IiwiZXhwZWN0ZWQiLCJwcm9jZXNzIiwiZW52IiwiUlVOTkVSX1NIQVJFRF9TRUNSRVQiLCJFcnJvciIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImxlbmd0aCIsInRyaW0iLCJQT1NUIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZXZlbnQiLCJwcm9qZWN0SWQiLCJvayIsImNvbnNvbGUiLCJsb2ciLCJ0eXBlIiwiY29tbWFuZElkIiwiZGF0YSIsInB1Ymxpc2hSdW5uZXJFdmVudCIsImFwcGVuZFJ1bm5lckxvZyIsInN0cmVhbSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJtYXJrUnVubmVyTG9nRXhpdCIsImNvZGUiLCJleGl0Q29kZSIsInNpZ25hbCIsInVuZGVmaW5lZCIsImRiIiwidXBkYXRlIiwicHJvamVjdHMiLCJzZXQiLCJkZXZTZXJ2ZXJTdGF0dXMiLCJkZXZTZXJ2ZXJQb3J0IiwicG9ydCIsImxhc3RBY3Rpdml0eUF0Iiwid2hlcmUiLCJlcSIsImlkIiwidXBkYXRlUG9ydFJlc2VydmF0aW9uRm9yUHJvamVjdCIsImNsZWFuU2h1dGRvd24iLCJkZXZTZXJ2ZXJQaWQiLCJyZWxlYXNlUG9ydEZvclByb2plY3QiLCJtZXRhZGF0YSIsInBheWxvYWQiLCJwYXRoIiwicHJvamVjdFR5cGUiLCJydW5Db21tYW5kIiwicHJvamVjdCIsInNlbGVjdCIsImZyb20iLCJsaW1pdCIsIndhcm4iLCJwcm9qZWN0UGF0aCIsInJlYWRGaWxlU3luYyIsInBhY2thZ2VKc29uUGF0aCIsInBhY2thZ2VKc29uIiwiSlNPTiIsInBhcnNlIiwic2NyaXB0cyIsImRldiIsImV4aXN0c1N5bmMiLCJzdGFydCIsImVycm9yTWVzc2FnZSIsInNlcnZlckNvbXBvbmVudE1vZHVsZS5HRVQiLCJzZXJ2ZXJDb21wb25lbnRNb2R1bGUuUE9TVCIsInNlcnZlckNvbXBvbmVudE1vZHVsZS5QVVQiLCJzZXJ2ZXJDb21wb25lbnRNb2R1bGUuUEFUQ0giLCJzZXJ2ZXJDb21wb25lbnRNb2R1bGUuREVMRVRFIiwic2VydmVyQ29tcG9uZW50TW9kdWxlLkhFQUQiLCJzZXJ2ZXJDb21wb25lbnRNb2R1bGUuT1BUSU9OUyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/runner/events/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/client.ts":
/*!******************************!*\
  !*** ./src/lib/db/client.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_db_client__WEBPACK_IMPORTED_MODULE_0__.db)\n/* harmony export */ });\n/* harmony import */ var _sentryvibe_agent_core_src_lib_db_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentryvibe/agent-core/src/lib/db/client */ \"(rsc)/../../packages/agent-core/src/lib/db/client.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_sentryvibe_agent_core_src_lib_db_client__WEBPACK_IMPORTED_MODULE_0__]);\n_sentryvibe_agent_core_src_lib_db_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF5RCIsInNvdXJjZXMiOlsiL1VzZXJzL2NvZHlkZWFya2xhbmQvc2VudHJ5dmliZS9hcHBzL3NlbnRyeXZpYmUvc3JjL2xpYi9kYi9jbGllbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnQHNlbnRyeXZpYmUvYWdlbnQtY29yZS9zcmMvbGliL2RiL2NsaWVudCc7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/client.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/schema.ts":
/*!******************************!*\
  !*** ./src/lib/db/schema.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   messages: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_db_schema__WEBPACK_IMPORTED_MODULE_0__.messages),\n/* harmony export */   portAllocations: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_db_schema__WEBPACK_IMPORTED_MODULE_0__.portAllocations),\n/* harmony export */   projects: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_db_schema__WEBPACK_IMPORTED_MODULE_0__.projects)\n/* harmony export */ });\n/* harmony import */ var _sentryvibe_agent_core_src_lib_db_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentryvibe/agent-core/src/lib/db/schema */ \"(rsc)/../../packages/agent-core/src/lib/db/schema.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL3NjaGVtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXlEIiwic291cmNlcyI6WyIvVXNlcnMvY29keWRlYXJrbGFuZC9zZW50cnl2aWJlL2FwcHMvc2VudHJ5dmliZS9zcmMvbGliL2RiL3NjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICdAc2VudHJ5dmliZS9hZ2VudC1jb3JlL3NyYy9saWIvZGIvc2NoZW1hJztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/port-allocator.ts":
/*!***********************************!*\
  !*** ./src/lib/port-allocator.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildEnvForFramework: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__.buildEnvForFramework),\n/* harmony export */   getRunCommand: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__.getRunCommand),\n/* harmony export */   releasePortForProject: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__.releasePortForProject),\n/* harmony export */   reservePortForProject: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__.reservePortForProject),\n/* harmony export */   updatePortReservationForProject: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__.updatePortReservationForProject),\n/* harmony export */   withEnforcedPort: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__.withEnforcedPort)\n/* harmony export */ });\n/* harmony import */ var _sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentryvibe/agent-core/src/lib/port-allocator */ \"(rsc)/../../packages/agent-core/src/lib/port-allocator.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__]);\n_sentryvibe_agent_core_src_lib_port_allocator__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3BvcnQtYWxsb2NhdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBOEQiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jb2R5ZGVhcmtsYW5kL3NlbnRyeXZpYmUvYXBwcy9zZW50cnl2aWJlL3NyYy9saWIvcG9ydC1hbGxvY2F0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnQHNlbnRyeXZpYmUvYWdlbnQtY29yZS9zcmMvbGliL3BvcnQtYWxsb2NhdG9yJztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/port-allocator.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/runner/event-stream.ts":
/*!****************************************!*\
  !*** ./src/lib/runner/event-stream.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addRunnerEventSubscriber: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_event_stream__WEBPACK_IMPORTED_MODULE_0__.addRunnerEventSubscriber),\n/* harmony export */   publishRunnerEvent: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_event_stream__WEBPACK_IMPORTED_MODULE_0__.publishRunnerEvent),\n/* harmony export */   removeRunnerEventSubscriber: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_event_stream__WEBPACK_IMPORTED_MODULE_0__.removeRunnerEventSubscriber)\n/* harmony export */ });\n/* harmony import */ var _sentryvibe_agent_core_src_lib_runner_event_stream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentryvibe/agent-core/src/lib/runner/event-stream */ \"(rsc)/../../packages/agent-core/src/lib/runner/event-stream.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3J1bm5lci9ldmVudC1zdHJlYW0udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRSIsInNvdXJjZXMiOlsiL1VzZXJzL2NvZHlkZWFya2xhbmQvc2VudHJ5dmliZS9hcHBzL3NlbnRyeXZpYmUvc3JjL2xpYi9ydW5uZXIvZXZlbnQtc3RyZWFtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJ0BzZW50cnl2aWJlL2FnZW50LWNvcmUvc3JjL2xpYi9ydW5uZXIvZXZlbnQtc3RyZWFtJztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/runner/event-stream.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/runner/log-store.ts":
/*!*************************************!*\
  !*** ./src/lib/runner/log-store.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   appendRunnerLog: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_0__.appendRunnerLog),\n/* harmony export */   getRunnerLogs: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_0__.getRunnerLogs),\n/* harmony export */   markRunnerLogExit: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_0__.markRunnerLogExit),\n/* harmony export */   subscribeToRunnerLogs: () => (/* reexport safe */ _sentryvibe_agent_core_src_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_0__.subscribeToRunnerLogs)\n/* harmony export */ });\n/* harmony import */ var _sentryvibe_agent_core_src_lib_runner_log_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentryvibe/agent-core/src/lib/runner/log-store */ \"(rsc)/../../packages/agent-core/src/lib/runner/log-store.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3J1bm5lci9sb2ctc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jb2R5ZGVhcmtsYW5kL3NlbnRyeXZpYmUvYXBwcy9zZW50cnl2aWJlL3NyYy9saWIvcnVubmVyL2xvZy1zdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICdAc2VudHJ5dmliZS9hZ2VudC1jb3JlL3NyYy9saWIvcnVubmVyL2xvZy1zdG9yZSc7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/runner/log-store.ts\n");

/***/ }),

/***/ "(ssr)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("async_hooks");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "diagnostics_channel":
/*!**************************************!*\
  !*** external "diagnostics_channel" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("diagnostics_channel");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "node:child_process":
/*!*************************************!*\
  !*** external "node:child_process" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:child_process");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:https");

/***/ }),

/***/ "node:inspector":
/*!*********************************!*\
  !*** external "node:inspector" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:inspector");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:readline":
/*!********************************!*\
  !*** external "node:readline" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:readline");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:tls");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = import("pg");;

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@opentelemetry+resources@2.1.0_@opentelemetry+api@1.9.0","vendor-chunks/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0","vendor-chunks/@sentry+core@10.17.0","vendor-chunks/@opentelemetry+semantic-conventions@1.37.0","vendor-chunks/@sentry+node-core@10.17.0_@opentelemetry+api@1.9.0_@opentelemetry+context-async-hooks@2.1.0_@_iexosqi4imfrn46nj6jwfgzute","vendor-chunks/@sentry+node@file+apps+sentryvibe+vendor+sentry-node-10.17.0.tgz","vendor-chunks/@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-http@0.204.0_@opentelemetry+api@1.9.0","vendor-chunks/@sentry+opentelemetry@10.17.0_@opentelemetry+api@1.9.0_@opentelemetry+context-async-hooks@2.1_lnanjtbeaorg7cpyd6d5aj7lji","vendor-chunks/minimatch@9.0.5","vendor-chunks/@opentelemetry+core@2.1.0_@opentelemetry+api@1.9.0","vendor-chunks/semver@7.7.2","vendor-chunks/@opentelemetry+sdk-trace-base@2.1.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation@0.204.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-pg@0.57.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation@0.57.2_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-mongodb@0.57.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-kafkajs@0.14.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-redis@0.53.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-graphql@0.52.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-amqplib@0.51.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-express@0.53.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-undici@0.15.0_@opentelemetry+api@1.9.0","vendor-chunks/resolve@1.22.10","vendor-chunks/resolve@1.22.8","vendor-chunks/@opentelemetry+instrumentation-hapi@0.51.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-fs@0.24.0_@opentelemetry+api@1.9.0","vendor-chunks/color-convert@2.0.1","vendor-chunks/@opentelemetry+instrumentation-mysql@0.50.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-mongoose@0.51.0_@opentelemetry+api@1.9.0","vendor-chunks/debug@4.4.3","vendor-chunks/@opentelemetry+instrumentation-knex@0.49.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-mysql2@0.51.0_@opentelemetry+api@1.9.0","vendor-chunks/require-in-the-middle@7.5.2","vendor-chunks/@opentelemetry+instrumentation-connect@0.48.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+context-async-hooks@2.1.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+api-logs@0.57.2","vendor-chunks/@opentelemetry+instrumentation-koa@0.52.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+api-logs@0.204.0","vendor-chunks/@opentelemetry+instrumentation-dataloader@0.22.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-tedious@0.23.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-ioredis@0.52.0_@opentelemetry+api@1.9.0","vendor-chunks/chalk@3.0.0","vendor-chunks/@prisma+instrumentation@6.15.0_@opentelemetry+api@1.9.0","vendor-chunks/@opentelemetry+instrumentation-generic-pool@0.48.0_@opentelemetry+api@1.9.0","vendor-chunks/is-core-module@2.16.1","vendor-chunks/forwarded-parse@2.1.2","vendor-chunks/import-in-the-middle@1.14.4","vendor-chunks/@opentelemetry+instrumentation-lru-memoizer@0.49.0_@opentelemetry+api@1.9.0","vendor-chunks/brace-expansion@2.0.2","vendor-chunks/color-name@1.1.4","vendor-chunks/ansi-styles@4.3.0","vendor-chunks/stacktrace-parser@0.1.11","vendor-chunks/@opentelemetry+sql-common@0.41.2_@opentelemetry+api@1.9.0","vendor-chunks/ms@2.1.3","vendor-chunks/shimmer@1.2.1","vendor-chunks/supports-color@7.2.0","vendor-chunks/@opentelemetry+redis-common@0.38.2","vendor-chunks/function-bind@1.1.2","vendor-chunks/path-parse@1.0.7","vendor-chunks/balanced-match@1.0.2","vendor-chunks/@swc+helpers@0.5.15","vendor-chunks/module-details-from-path@1.0.4","vendor-chunks/has-flag@4.0.0","vendor-chunks/hasown@2.0.2","vendor-chunks/@sentry+nextjs@file+apps+sentryvibe+vendor+sentry-nextjs-10.17.0.tgz_@opentelemetry+context-a_b6kikyy2wwnqfivki42o4vmzhq","vendor-chunks/drizzle-orm@0.44.6_@opentelemetry+api@1.9.0_@types+better-sqlite3@7.6.13_@types+pg@8.15.5_bet_dxlzfz2ebhcsdlpwdqln2kne2u"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@15.5.4_@babel+core@7.28.4_@opentelemetry+api@1.9.0_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Frunner%2Fevents%2Froute&page=%2Fapi%2Frunner%2Fevents%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frunner%2Fevents%2Froute.ts&appDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcodydearkland%2Fsentryvibe%2Fapps%2Fsentryvibe&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();