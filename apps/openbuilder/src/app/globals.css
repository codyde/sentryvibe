@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-rubik);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --animate-swing: swing 0.75s ease;
  
  /* Theme colors */
  --color-theme-primary: var(--theme-primary);
  --color-theme-secondary: var(--theme-secondary);
  --color-theme-primary-muted: var(--theme-primary-muted);
  --color-theme-secondary-muted: var(--theme-secondary-muted);
}

:root {
  --radius: 0.625rem;
  --background: oklch(0.17 0.065 295);
  --foreground: oklch(1 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0 0 0);
  --primary: oklch(0 0 0);
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.96 0 0);
  --secondary-foreground: oklch(0 0 0);
  --muted: oklch(0.96 0 0);
  --muted-foreground: oklch(0.4 0 0);
  --accent: oklch(0.96 0 0);
  --accent-foreground: oklch(0 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.9 0 0);
  --input: oklch(0.9 0 0);
  --ring: oklch(0 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.12 0 0);
  --sidebar-foreground: oklch(1 0 0);
  --sidebar-primary: oklch(1 0 0);
  --sidebar-primary-foreground: oklch(0 0 0);
  --sidebar-accent: oklch(0.15 0 0);
  --sidebar-accent-foreground: oklch(1 0 0);
  --sidebar-border: oklch(0.12 0 0);
  --sidebar-ring: oklch(1 0 0);
}

.dark {
  --background: oklch(0.17 0.065 295);
  --foreground: oklch(1 0 0);
  --card: oklch(0.08 0 0);
  --card-foreground: oklch(1 0 0);
  --popover: oklch(0.08 0 0);
  --popover-foreground: oklch(1 0 0);
  --primary: oklch(1 0 0);
  --primary-foreground: oklch(0 0 0);
  --secondary: oklch(0.15 0 0);
  --secondary-foreground: oklch(1 0 0);
  --muted: oklch(0.15 0 0);
  --muted-foreground: oklch(0.6 0 0);
  --accent: oklch(0.15 0 0);
  --accent-foreground: oklch(1 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(0.2 0 0);
  --input: oklch(0.2 0 0);
  --ring: oklch(1 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.12 0 0);
  --sidebar-foreground: oklch(1 0 0);
  --sidebar-primary: oklch(1 0 0);
  --sidebar-primary-foreground: oklch(0 0 0);
  --sidebar-accent: oklch(0.15 0 0);
  --sidebar-accent-foreground: oklch(1 0 0);
  --sidebar-border: oklch(0.12 0 0);
  --sidebar-ring: oklch(1 0 0);
}

/* ============================================
   THEME DEFINITIONS
   Popular developer tool themes from VS Code, OpenCode, etc.
   ============================================ */

/* Tokyo Night Theme (Default) - Deep blue with purple/cyan accents */
.theme-tokyonight {
  --background: #1a1b26;
  --theme-primary: #7aa2f7;
  --theme-secondary: #bb9af7;
  --theme-primary-muted: rgba(122, 162, 247, 0.2);
  --theme-secondary-muted: rgba(187, 154, 247, 0.2);
  --sidebar-gradient-from: #16161e;
  --sidebar-gradient-to: #1a1b26;
  --theme-accent: #7dcfff;
  --theme-glow: rgba(122, 162, 247, 0.25);
  --theme-glow-hover: rgba(122, 162, 247, 0.4);
  --theme-button-text: #1a1b26;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(22, 22, 30, 0.8);
  --theme-input-border: rgba(122, 162, 247, 0.3);
  --theme-input-border-focus: rgba(122, 162, 247, 0.6);
  --theme-terminal-bg: #16161e;
  --theme-chat-user-bg: rgba(122, 162, 247, 0.2);
  --theme-chat-agent-bg: rgba(36, 40, 59, 0.8);
  /* UI Component overrides (popover, dropdown, context menu, hover card, tooltip) */
  --popover: #1f2335;
  --popover-foreground: #c0caf5;
  --accent: rgba(122, 162, 247, 0.15);
  --accent-foreground: #c0caf5;
  --border: rgba(122, 162, 247, 0.2);
  --muted: #24283b;
  --muted-foreground: #565f89;
}

/* One Dark Theme - Classic Atom theme */
.theme-onedark {
  --background: #282c34;
  --theme-primary: #61afef;
  --theme-secondary: #c678dd;
  --theme-primary-muted: rgba(97, 175, 239, 0.2);
  --theme-secondary-muted: rgba(198, 120, 221, 0.2);
  --sidebar-gradient-from: #21252b;
  --sidebar-gradient-to: #282c34;
  --theme-accent: #e5c07b;
  --theme-glow: rgba(97, 175, 239, 0.25);
  --theme-glow-hover: rgba(97, 175, 239, 0.4);
  --theme-button-text: #282c34;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(33, 37, 43, 0.8);
  --theme-input-border: rgba(97, 175, 239, 0.3);
  --theme-input-border-focus: rgba(97, 175, 239, 0.6);
  --theme-terminal-bg: #21252b;
  --theme-chat-user-bg: rgba(97, 175, 239, 0.2);
  --theme-chat-agent-bg: rgba(40, 44, 52, 0.8);
  /* UI Component overrides */
  --popover: #2c313c;
  --popover-foreground: #abb2bf;
  --accent: rgba(97, 175, 239, 0.15);
  --accent-foreground: #abb2bf;
  --border: rgba(97, 175, 239, 0.2);
  --muted: #3b4048;
  --muted-foreground: #5c6370;
}

/* Gruvbox Theme - Retro warm colors */
.theme-gruvbox {
  --background: #282828;
  --theme-primary: #fe8019;
  --theme-secondary: #fabd2f;
  --theme-primary-muted: rgba(254, 128, 25, 0.2);
  --theme-secondary-muted: rgba(250, 189, 47, 0.2);
  --sidebar-gradient-from: #1d2021;
  --sidebar-gradient-to: #282828;
  --theme-accent: #8ec07c;
  --theme-glow: rgba(254, 128, 25, 0.25);
  --theme-glow-hover: rgba(254, 128, 25, 0.4);
  --theme-button-text: #282828;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(29, 32, 33, 0.8);
  --theme-input-border: rgba(254, 128, 25, 0.3);
  --theme-input-border-focus: rgba(254, 128, 25, 0.6);
  --theme-terminal-bg: #1d2021;
  --theme-chat-user-bg: rgba(254, 128, 25, 0.2);
  --theme-chat-agent-bg: rgba(50, 48, 47, 0.8);
  /* UI Component overrides */
  --popover: #32302f;
  --popover-foreground: #ebdbb2;
  --accent: rgba(254, 128, 25, 0.15);
  --accent-foreground: #ebdbb2;
  --border: rgba(254, 128, 25, 0.2);
  --muted: #3c3836;
  --muted-foreground: #928374;
}

/* Dracula Theme - Iconic purple/pink/cyan */
.theme-dracula {
  --background: #282a36;
  --theme-primary: #bd93f9;
  --theme-secondary: #ff79c6;
  --theme-primary-muted: rgba(189, 147, 249, 0.2);
  --theme-secondary-muted: rgba(255, 121, 198, 0.2);
  --sidebar-gradient-from: #21222c;
  --sidebar-gradient-to: #282a36;
  --theme-accent: #8be9fd;
  --theme-glow: rgba(189, 147, 249, 0.25);
  --theme-glow-hover: rgba(189, 147, 249, 0.4);
  --theme-button-text: #282a36;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(33, 34, 44, 0.8);
  --theme-input-border: rgba(189, 147, 249, 0.3);
  --theme-input-border-focus: rgba(189, 147, 249, 0.6);
  --theme-terminal-bg: #21222c;
  --theme-chat-user-bg: rgba(189, 147, 249, 0.2);
  --theme-chat-agent-bg: rgba(68, 71, 90, 0.8);
  /* UI Component overrides */
  --popover: #343746;
  --popover-foreground: #f8f8f2;
  --accent: rgba(189, 147, 249, 0.15);
  --accent-foreground: #f8f8f2;
  --border: rgba(189, 147, 249, 0.2);
  --muted: #44475a;
  --muted-foreground: #6272a4;
}

/* Nord Theme - Arctic blue-gray palette */
.theme-nord {
  --background: #2e3440;
  --theme-primary: #88c0d0;
  --theme-secondary: #81a1c1;
  --theme-primary-muted: rgba(136, 192, 208, 0.2);
  --theme-secondary-muted: rgba(129, 161, 193, 0.2);
  --sidebar-gradient-from: #242933;
  --sidebar-gradient-to: #2e3440;
  --theme-accent: #a3be8c;
  --theme-glow: rgba(136, 192, 208, 0.25);
  --theme-glow-hover: rgba(136, 192, 208, 0.4);
  --theme-button-text: #2e3440;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(36, 41, 51, 0.8);
  --theme-input-border: rgba(136, 192, 208, 0.3);
  --theme-input-border-focus: rgba(136, 192, 208, 0.6);
  --theme-terminal-bg: #242933;
  --theme-chat-user-bg: rgba(136, 192, 208, 0.2);
  --theme-chat-agent-bg: rgba(59, 66, 82, 0.8);
  /* UI Component overrides */
  --popover: #3b4252;
  --popover-foreground: #eceff4;
  --accent: rgba(136, 192, 208, 0.15);
  --accent-foreground: #eceff4;
  --border: rgba(136, 192, 208, 0.2);
  --muted: #434c5e;
  --muted-foreground: #4c566a;
}

/* Sentry Theme - Purple/Pink gradient */
.theme-sentry {
  --background: #1D142F;
  --theme-primary: #a855f7;
  --theme-secondary: #ec4899;
  --theme-primary-muted: rgba(168, 85, 247, 0.2);
  --theme-secondary-muted: rgba(236, 72, 153, 0.2);
  --sidebar-gradient-from: #1D142F;
  --sidebar-gradient-to: #31145F;
  --theme-accent: #c084fc;
  --theme-glow: rgba(168, 85, 247, 0.25);
  --theme-glow-hover: rgba(168, 85, 247, 0.4);
  --theme-button-text: #ffffff;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(0, 0, 0, 0.4);
  --theme-input-border: rgba(168, 85, 247, 0.3);
  --theme-input-border-focus: rgba(168, 85, 247, 0.6);
  --theme-terminal-bg: #181225;
  --theme-chat-user-bg: rgba(168, 85, 247, 0.25);
  --theme-chat-agent-bg: rgba(39, 39, 42, 0.7);
  /* UI Component overrides */
  --popover: #251a3d;
  --popover-foreground: #f3e8ff;
  --accent: rgba(168, 85, 247, 0.15);
  --accent-foreground: #f3e8ff;
  --border: rgba(168, 85, 247, 0.25);
  --muted: #2d1f4a;
  --muted-foreground: #9f7aea;
}

/* Dark Theme - Traditional dark mode with neutral grays */
.theme-dark {
  --background: #121212;
  --foreground: #e5e5e5;
  --theme-primary: #60a5fa;
  --theme-secondary: #a78bfa;
  --theme-primary-muted: rgba(96, 165, 250, 0.2);
  --theme-secondary-muted: rgba(167, 139, 250, 0.2);
  --sidebar-gradient-from: #0a0a0a;
  --sidebar-gradient-to: #171717;
  --theme-accent: #34d399;
  --theme-glow: rgba(96, 165, 250, 0.2);
  --theme-glow-hover: rgba(96, 165, 250, 0.35);
  --theme-button-text: #121212;
  /* Input/Chat/Terminal */
  --theme-input-bg: rgba(0, 0, 0, 0.5);
  --theme-input-border: rgba(255, 255, 255, 0.1);
  --theme-input-border-focus: rgba(96, 165, 250, 0.5);
  --theme-terminal-bg: #0a0a0a;
  --theme-chat-user-bg: rgba(96, 165, 250, 0.15);
  --theme-chat-agent-bg: rgba(38, 38, 38, 0.8);
  /* UI Component overrides */
  --popover: #1e1e1e;
  --popover-foreground: #e5e5e5;
  --accent: rgba(96, 165, 250, 0.12);
  --accent-foreground: #e5e5e5;
  --border: rgba(255, 255, 255, 0.1);
  --muted: #262626;
  --muted-foreground: #737373;
}

/* Light Theme - Clean light mode with subtle blue accents */
.theme-light {
  --background: #ffffff;
  --foreground: #1a1a1a;
  --theme-primary: #2563eb;
  --theme-secondary: #7c3aed;
  --theme-primary-muted: rgba(37, 99, 235, 0.1);
  --theme-secondary-muted: rgba(124, 58, 237, 0.1);
  --sidebar-gradient-from: #f8fafc;
  --sidebar-gradient-to: #f1f5f9;
  --theme-accent: #059669;
  --theme-glow: rgba(37, 99, 235, 0.15);
  --theme-glow-hover: rgba(37, 99, 235, 0.25);
  --theme-button-text: #ffffff;
  /* Input/Chat/Terminal */
  --theme-input-bg: #ffffff;
  --theme-input-border: #cbd5e1;
  --theme-input-border-focus: rgba(37, 99, 235, 0.5);
  --theme-terminal-bg: #f8fafc;
  --theme-chat-user-bg: rgba(37, 99, 235, 0.08);
  --theme-chat-agent-bg: #f1f5f9;
  /* UI Component overrides */
  --popover: #ffffff;
  --popover-foreground: #1a1a1a;
  --accent: rgba(37, 99, 235, 0.08);
  --accent-foreground: #1a1a1a;
  --border: #e2e8f0;
  --muted: #f1f5f9;
  --muted-foreground: #64748b;
  /* Card and sidebar for light mode */
  --card: #ffffff;
  --card-foreground: #1a1a1a;
  --sidebar: #f8fafc;
  --sidebar-foreground: #1a1a1a;
  --sidebar-primary: #2563eb;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #e2e8f0;
  --sidebar-accent-foreground: #1a1a1a;
  --sidebar-border: #e2e8f0;
  --sidebar-ring: #2563eb;
}

/* ============================================
   LIGHT THEME OVERRIDES
   Comprehensive fixes for hardcoded dark mode colors
   ============================================ */

/* --- SIDEBAR OVERRIDES --- */
.theme-light [data-sidebar="sidebar"] {
  background: linear-gradient(to bottom, #f8fafc, #f1f5f9) !important;
}

/* White text → dark text */
.theme-light [data-sidebar="sidebar"] .text-white,
.theme-light [data-sidebar="sidebar"] [class*="text-white"] {
  color: #1e293b !important;
}

/* Gray text variants → visible gray */
.theme-light [data-sidebar="sidebar"] .text-gray-300,
.theme-light [data-sidebar="sidebar"] .text-gray-400,
.theme-light [data-sidebar="sidebar"] .text-gray-500,
.theme-light [data-sidebar="sidebar"] .text-gray-600,
.theme-light [data-sidebar="sidebar"] [class*="text-gray-"] {
  color: #475569 !important;
}

/* Zinc text variants → visible gray */
.theme-light [data-sidebar="sidebar"] .text-zinc-300,
.theme-light [data-sidebar="sidebar"] .text-zinc-400,
.theme-light [data-sidebar="sidebar"] .text-zinc-500,
.theme-light [data-sidebar="sidebar"] .text-zinc-600,
.theme-light [data-sidebar="sidebar"] .text-zinc-700,
.theme-light [data-sidebar="sidebar"] [class*="text-zinc-"] {
  color: #64748b !important;
}

/* Border overrides */
.theme-light [data-sidebar="sidebar"] .border-white\/5,
.theme-light [data-sidebar="sidebar"] .border-white\/10,
.theme-light [data-sidebar="sidebar"] .border-white\/20,
.theme-light [data-sidebar="sidebar"] [class*="border-white\\/"] {
  border-color: #cbd5e1 !important;
}

/* Background overrides - white with opacity → light gray */
.theme-light [data-sidebar="sidebar"] .bg-white\/5,
.theme-light [data-sidebar="sidebar"] .bg-white\/10,
.theme-light [data-sidebar="sidebar"] [class*="bg-white\\/"] {
  background-color: rgba(0, 0, 0, 0.03) !important;
}

/* Background overrides - black with opacity → light backgrounds */
.theme-light [data-sidebar="sidebar"] .bg-black\/20,
.theme-light [data-sidebar="sidebar"] .bg-black\/30,
.theme-light [data-sidebar="sidebar"] [class*="bg-black\\/"] {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

/* Hover state overrides */
.theme-light [data-sidebar="sidebar"] .hover\:bg-white\/5:hover,
.theme-light [data-sidebar="sidebar"] .hover\:bg-white\/10:hover,
.theme-light [data-sidebar="sidebar"] [class*="hover\\:bg-white"]:hover {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

.theme-light [data-sidebar="sidebar"] .hover\:bg-black\/30:hover,
.theme-light [data-sidebar="sidebar"] [class*="hover\\:bg-black"]:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
}

/* --- GLOBAL LIGHT MODE TEXT FIXES --- */
/* These target elements outside sidebar as well */

.theme-light .text-white {
  color: #1e293b !important;
}

/* Exception: Keep white text on gradient buttons and dark backgrounds */
.theme-light .bg-theme-gradient,
.theme-light .bg-theme-gradient *,
.theme-light .bg-theme-gradient .text-white,
.theme-light .bg-theme-gradient.text-white,
.theme-light [class*="bg-gradient"].text-white,
.theme-light [class*="bg-gradient"] .text-white,
.theme-light [class*="bg-gradient"] *,
.theme-light .bg-green-500 .text-white,
.theme-light .bg-red-500 .text-white,
.theme-light .bg-blue-500 .text-white,
.theme-light button.bg-theme-gradient,
.theme-light button.bg-theme-gradient *,
.theme-light button[class*="bg-theme-gradient"],
.theme-light button[class*="bg-theme-gradient"] * {
  color: #ffffff !important;
}

.theme-light .text-gray-300 {
  color: #475569 !important;
}

.theme-light .text-gray-400 {
  color: #64748b !important;
}

.theme-light .text-gray-500 {
  color: #64748b !important;
}

.theme-light .text-gray-600 {
  color: #475569 !important;
}

.theme-light .text-zinc-300 {
  color: #475569 !important;
}

.theme-light .text-zinc-400 {
  color: #64748b !important;
}

.theme-light .text-zinc-500 {
  color: #64748b !important;
}

.theme-light .text-zinc-600 {
  color: #475569 !important;
}

/* --- POPOVER & HOVER CARD OVERRIDES --- */
.theme-light .bg-black\/90,
.theme-light .bg-black\/95,
.theme-light [class*="bg-black\\/9"] {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

.theme-light .bg-black\/90 .text-white,
.theme-light .bg-black\/95 .text-white,
.theme-light [class*="bg-black\\/9"] .text-white {
  color: #1e293b !important;
}

.theme-light .bg-black\/90 .text-gray-400,
.theme-light .bg-black\/90 .text-gray-500,
.theme-light .bg-black\/90 .text-gray-600,
.theme-light .bg-black\/95 .text-gray-400,
.theme-light .bg-black\/95 .text-gray-500,
.theme-light [class*="bg-black\\/9"] .text-gray-400,
.theme-light [class*="bg-black\\/9"] .text-gray-500 {
  color: #64748b !important;
}

/* --- DROPDOWN & CONTEXT MENU OVERRIDES --- */
.theme-light .bg-black {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
}

.theme-light .bg-zinc-950 {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
}

.theme-light .bg-zinc-900 {
  background-color: #f8fafc !important;
}

.theme-light .border-zinc-800 {
  border-color: #e2e8f0 !important;
}

.theme-light .border-zinc-700 {
  border-color: #cbd5e1 !important;
}

.theme-light .bg-zinc-800 {
  background-color: #e2e8f0 !important;
}

.theme-light .bg-zinc-700 {
  background-color: #cbd5e1 !important;
}

/* Zinc text overrides for LoginModal and other components */
.theme-light .text-zinc-300 {
  color: #475569 !important;
}

.theme-light .text-zinc-400 {
  color: #64748b !important;
}

.theme-light .text-zinc-500 {
  color: #64748b !important;
}

.theme-light .placeholder\:text-zinc-500::placeholder {
  color: #94a3b8 !important;
}

/* Hover states for zinc backgrounds */
.theme-light .hover\:bg-zinc-900:hover {
  background-color: #f1f5f9 !important;
}

.theme-light .hover\:border-zinc-600:hover {
  border-color: #94a3b8 !important;
}

/* Dropdown menu content - bg-gray-900 used in NeonDB/GitHub dropdowns */
.theme-light [data-radix-popper-content-wrapper] .bg-gray-900 {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

.theme-light [data-radix-popper-content-wrapper] .border-gray-700 {
  border-color: #e2e8f0 !important;
}

/* Focus states for dropdown items */
.theme-light .focus\:bg-zinc-800:focus {
  background-color: #e2e8f0 !important;
}

.theme-light .focus\:text-white:focus {
  color: #1e293b !important;
}

/* Hover states */
.theme-light .hover\:bg-zinc-700:hover {
  background-color: #e2e8f0 !important;
}

.theme-light .hover\:bg-zinc-800:hover {
  background-color: #f1f5f9 !important;
}

.theme-light .hover\:text-white:hover {
  color: #1e293b !important;
}

/* --- ALERT DIALOG OVERRIDES --- */
.theme-light .bg-zinc-950[role="alertdialog"],
.theme-light [role="alertdialog"].bg-zinc-950,
.theme-light [data-state] .bg-zinc-950 {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
}

/* --- TAG BADGE STYLING --- */
.theme-light .tag-badge-theme {
  background-color: #f1f5f9 !important;
  border-color: #cbd5e1 !important;
  color: #1e293b !important;
}

.theme-light .tag-badge-theme .tag-key {
  color: #64748b !important;
}

.theme-light .tag-badge-theme .tag-value {
  color: #1e293b !important;
}

.theme-light .tag-badge-theme:hover {
  background-color: #e2e8f0 !important;
}

/* --- INPUT OVERRIDES FOR LIGHT MODE --- */
.theme-light .input-theme {
  background-color: #ffffff !important;
  border-color: #cbd5e1 !important;
  color: #1e293b !important;
}

.theme-light .input-theme::placeholder {
  color: #94a3b8 !important;
}

/* --- HEADER & TAG BADGES IN MAIN CONTENT FOR LIGHT MODE --- */
.theme-light .bg-gray-800 {
  background-color: #e2e8f0 !important;
}

.theme-light .bg-gray-800 .text-gray-400 {
  color: #64748b !important;
}

.theme-light .bg-gray-800 .text-gray-200 {
  color: #1e293b !important;
}

/* --- PROSE/MARKDOWN CONTENT FOR LIGHT MODE --- */
.theme-light .prose-invert {
  --tw-prose-body: #334155 !important;
  --tw-prose-headings: #1e293b !important;
  --tw-prose-links: #2563eb !important;
  --tw-prose-bold: #1e293b !important;
  --tw-prose-code: #1e293b !important;
  --tw-prose-quotes: #475569 !important;
}

.theme-light .prose-invert h1,
.theme-light .prose-invert h2,
.theme-light .prose-invert h3,
.theme-light .prose-invert h4,
.theme-light .prose-invert strong {
  color: #1e293b !important;
}

.theme-light .prose-invert p,
.theme-light .prose-invert li,
.theme-light .prose-invert span {
  color: #334155 !important;
}

/* Fix gray text in prose that was meant for dark backgrounds */
.theme-light .prose-invert [class*="text-gray-2"],
.theme-light .prose-invert [class*="text-gray-3"] {
  color: #334155 !important;
}

.theme-light [class*="prose"] .text-white {
  color: #1e293b !important;
}

.theme-light [class*="prose"] .text-gray-200 {
  color: #334155 !important;
}

.theme-light [class*="prose"] .text-gray-300 {
  color: #475569 !important;
}

/* Fix hardcoded prose selector colors like [&_p]:text-gray-300 */
.theme-light [class*="prose"] p {
  color: #475569 !important;
}

.theme-light [class*="prose"] li {
  color: #475569 !important;
}

.theme-light [class*="prose"] h1,
.theme-light [class*="prose"] h2,
.theme-light [class*="prose"] h3,
.theme-light [class*="prose"] h4 {
  color: #1e293b !important;
}

.theme-light [class*="prose"] strong {
  color: #1e293b !important;
}

.theme-light [class*="prose"] em {
  color: #64748b !important;
}

/* --- MAIN CONTENT AREA FOR LIGHT MODE --- */
.theme-light .bg-theme-content {
  background: linear-gradient(to top right, #f8fafc, #ffffff) !important;
  color: #1e293b !important;
}

.theme-light .bg-theme-content.text-white,
.theme-light .bg-theme-content .text-white {
  color: #1e293b !important;
}

.theme-light .text-foreground {
  color: #1e293b !important;
}

.theme-light [data-slot="sidebar-inset"] {
  background-color: #ffffff !important;
  color: #1e293b !important;
}

/* Chat message bubbles */
.theme-light .chat-user-theme {
  background: linear-gradient(to bottom right, rgba(37, 99, 235, 0.1), rgba(37, 99, 235, 0.05)) !important;
  border-color: rgba(37, 99, 235, 0.2) !important;
}

.theme-light .chat-agent-theme {
  background-color: #f1f5f9 !important;
  border-color: #e2e8f0 !important;
}

/* Gray background panels in light mode */
.theme-light .bg-gray-800 {
  background-color: #f1f5f9 !important;
}

.theme-light .bg-gray-900 {
  background-color: #f8fafc !important;
}

.theme-light .border-gray-700 {
  border-color: #e2e8f0 !important;
}

.theme-light .border-gray-800 {
  border-color: #e2e8f0 !important;
}

/* Text colors in chat that assume dark background */
.theme-light .text-gray-200 {
  color: #334155 !important;
}

/* Border with white opacity */
.theme-light .border-white\/10,
.theme-light .border-white\/20 {
  border-color: #e2e8f0 !important;
}

/* Background with white opacity */
.theme-light .bg-white\/5,
.theme-light .bg-white\/10 {
  background-color: rgba(0, 0, 0, 0.03) !important;
}

/* Hover states with white */
.theme-light .hover\:text-gray-300:hover {
  color: #475569 !important;
}

/* Terminal/code backgrounds - terminals should always stay dark */
.theme-light .terminal-theme {
  background-color: #1e293b !important;
}

/* Onboarding terminal - always dark regardless of theme */
.onboarding-terminal {
  background-color: #18181b !important;
  border: 1px solid #3f3f46 !important;
}

.onboarding-terminal-header {
  background-color: #27272a !important;
  border-bottom: 1px solid #3f3f46 !important;
}

.onboarding-terminal-title {
  color: #a1a1aa !important;
}

.onboarding-terminal-copy {
  color: #a1a1aa !important;
}

.onboarding-terminal-copy:hover {
  color: #e4e4e7 !important;
  background-color: #3f3f46 !important;
}

.onboarding-terminal-content {
  background-color: #18181b !important;
}

.onboarding-terminal-code {
  color: #f4f4f5 !important;
}

/* --- PREVIEW PANEL / RIGHT SIDE FOR LIGHT MODE --- */
.theme-light .bg-black\/20 {
  background-color: rgba(0, 0, 0, 0.03) !important;
}

.theme-light .bg-black\/30 {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

.theme-light .bg-black\/40 {
  background-color: rgba(0, 0, 0, 0.07) !important;
}

.theme-light .border-white\/10 {
  border-color: #e2e8f0 !important;
}

.theme-light .border-white\/20 {
  border-color: #cbd5e1 !important;
}

.theme-light .bg-white\/10 {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

.theme-light .hover\:bg-white\/10:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
}

.theme-light .hover\:text-white:hover {
  color: #1e293b !important;
}

.theme-light .bg-gray-900 {
  background-color: #f8fafc !important;
}

/* URL bar and other inline displays */
.theme-light .font-mono.text-gray-300 {
  color: #475569 !important;
}

/* Code blocks/inline code in content */
.theme-light code:not([class*="hljs"]) {
  background-color: #e2e8f0 !important;
  color: #1e293b !important;
}

.theme-light .bg-theme-primary-muted code {
  background-color: rgba(37, 99, 235, 0.15) !important;
}

/* Inline code in prose/markdown content */
.theme-light [class*="prose"] code {
  background-color: rgba(37, 99, 235, 0.1) !important;
  color: #1e40af !important;
}

/* Theme accent code - ensure it's visible in light mode */
.theme-light .text-theme-accent {
  color: #047857 !important;
}

.theme-light [class*="code"]:not([class*="hljs"]):not(.terminal-theme *) {
  background-color: #e2e8f0 !important;
  color: #1e293b !important;
}

/* --- ADDITIONAL TEXT CONTRAST FIXES --- */
/* Ensure any text-white gets overridden in light mode */
.theme-light [class*="bg-theme-content"] .text-white,
.theme-light [data-slot="sidebar-inset"] .text-white {
  color: #1e293b !important;
}

/* Fix amber/warning banner in light mode */
.theme-light .text-amber-200 {
  color: #92400e !important;
}

.theme-light .text-amber-300 {
  color: #b45309 !important;
}

.theme-light .text-amber-400 {
  color: #d97706 !important;
}

.theme-light .bg-amber-500\/20 {
  background-color: rgba(245, 158, 11, 0.15) !important;
}

.theme-light .bg-amber-500\/10 {
  background-color: rgba(245, 158, 11, 0.1) !important;
}

.theme-light .border-amber-400\/40 {
  border-color: rgba(251, 191, 36, 0.4) !important;
}

.theme-light .border-amber-500\/20 {
  border-color: rgba(245, 158, 11, 0.3) !important;
}

/* --- COMMAND PALETTE & MODALS FOR LIGHT MODE --- */
.theme-light .bg-gray-950 {
  background-color: #ffffff !important;
  border-color: #e2e8f0 !important;
}

.theme-light .bg-black\/20 {
  background-color: rgba(0, 0, 0, 0.03) !important;
}

.theme-light .border-gray-700\/50 {
  border-color: #cbd5e1 !important;
}

.theme-light .bg-gray-800\/50 {
  background-color: #f1f5f9 !important;
}

.theme-light .hover\:bg-gray-800:hover {
  background-color: #f1f5f9 !important;
}

/* Fix kbd elements */
.theme-light kbd {
  background-color: #e2e8f0 !important;
  border-color: #cbd5e1 !important;
  color: #475569 !important;
}

/* --- DELETE PROJECT MODAL --- */
.theme-light .bg-black\/60 {
  background-color: rgba(0, 0, 0, 0.3) !important;
}

/* --- NEONDB & GITHUB BUTTON OVERRIDES --- */
/* NeonDB button - emerald colors need adjustment for light mode */
.theme-light .bg-emerald-900\/30 {
  background-color: rgba(16, 185, 129, 0.15) !important;
}

.theme-light .hover\:bg-emerald-900\/50:hover {
  background-color: rgba(16, 185, 129, 0.25) !important;
}

.theme-light .border-emerald-700\/50 {
  border-color: rgba(4, 120, 87, 0.5) !important;
}

.theme-light .text-emerald-400 {
  color: #047857 !important;
}

.theme-light .hover\:text-emerald-300:hover {
  color: #059669 !important;
}

/* GitHub button - green colors need adjustment for light mode */
.theme-light .bg-green-900\/30 {
  background-color: rgba(34, 197, 94, 0.15) !important;
}

.theme-light .hover\:bg-green-900\/50:hover {
  background-color: rgba(34, 197, 94, 0.25) !important;
}

.theme-light .border-green-700\/50 {
  border-color: rgba(21, 128, 61, 0.5) !important;
}

.theme-light .text-green-400 {
  color: #15803d !important;
}

.theme-light .hover\:text-green-300:hover {
  color: #16a34a !important;
}

/* --- CHECKMARK/TODO COLORS FOR LIGHT MODE --- */
/* Green checkmarks need to remain visible but darker */
.theme-light .text-green-400\/60 {
  color: rgba(21, 128, 61, 0.7) !important;
}

/* Keep green-400 checkmarks visible */
.theme-light [class*="CheckCircle"].text-green-400,
.theme-light .text-green-400 svg {
  color: #16a34a !important;
}

/* --- ERROR SECTION & CODE BLOCKS --- */
/* Red/error text - keep it visible but adjust for light bg */
.theme-light .text-red-300 {
  color: #b91c1c !important;
}

.theme-light .bg-red-500\/10 {
  background-color: rgba(239, 68, 68, 0.08) !important;
}

/* Blue text adjustments */
.theme-light .text-blue-300 {
  color: #1d4ed8 !important;
}

.theme-light .text-blue-400 {
  color: #2563eb !important;
}

/* Prose code blocks in light mode */
.theme-light .prose-code\:bg-gray-800 code {
  background-color: #e2e8f0 !important;
  color: #1e40af !important;
}

.theme-light .prose-code\:text-blue-300 code {
  color: #1d4ed8 !important;
}

/* Border gray adjustments */
.theme-light .border-gray-500 {
  border-color: #94a3b8 !important;
}

/* Gray text variants for list items */
.theme-light .text-gray-300 {
  color: #334155 !important;
}

/* --- SCROLLBAR FOR LIGHT MODE --- */
.theme-light * {
  scrollbar-color: rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.05);
}

.theme-light *::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

.theme-light *::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
}

.theme-light *::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* --- STATUS ANIMATION COMPONENTS (Server Starting, Tunnel Connecting) --- */
/* These components use dark gradients and need complete light mode overrides */

/* TunnelConnecting and ServerRestarting - Override the dark gradients */
.theme-light .from-cyan-950\/40,
.theme-light [class*="from-cyan-950"] {
  --tw-gradient-from: rgba(236, 254, 255, 0.9) !important;
}

.theme-light .from-orange-950\/40,
.theme-light [class*="from-orange-950"] {
  --tw-gradient-from: rgba(255, 247, 237, 0.9) !important;
}

.theme-light .from-green-950\/40,
.theme-light [class*="from-green-950"] {
  --tw-gradient-from: rgba(240, 253, 244, 0.9) !important;
}

.theme-light .from-red-950\/40,
.theme-light [class*="from-red-950"] {
  --tw-gradient-from: rgba(254, 242, 242, 0.9) !important;
}

.theme-light .via-gray-900\/95,
.theme-light [class*="via-gray-900"] {
  --tw-gradient-via: rgba(248, 250, 252, 0.95) !important;
}

.theme-light .to-gray-900\/95,
.theme-light [class*="to-gray-900\/95"] {
  --tw-gradient-to: rgba(248, 250, 252, 0.95) !important;
}

/* Status animation borders */
.theme-light .border-cyan-500\/30 {
  border-color: rgba(6, 182, 212, 0.4) !important;
}

.theme-light .border-cyan-500\/20 {
  border-color: rgba(6, 182, 212, 0.3) !important;
}

.theme-light .border-orange-500\/30 {
  border-color: rgba(249, 115, 22, 0.4) !important;
}

.theme-light .border-orange-500\/20 {
  border-color: rgba(249, 115, 22, 0.3) !important;
}

.theme-light .border-green-500\/30 {
  border-color: rgba(34, 197, 94, 0.4) !important;
}

.theme-light .border-green-500\/20 {
  border-color: rgba(34, 197, 94, 0.3) !important;
}

.theme-light .border-red-500\/30 {
  border-color: rgba(239, 68, 68, 0.4) !important;
}

.theme-light .border-red-500\/20 {
  border-color: rgba(239, 68, 68, 0.3) !important;
}

/* Status animation background pills */
.theme-light .bg-cyan-500\/20 {
  background-color: rgba(6, 182, 212, 0.15) !important;
}

.theme-light .bg-cyan-500\/10 {
  background-color: rgba(6, 182, 212, 0.1) !important;
}

.theme-light .bg-blue-500\/20 {
  background-color: rgba(59, 130, 246, 0.15) !important;
}

.theme-light .bg-blue-500\/10 {
  background-color: rgba(59, 130, 246, 0.1) !important;
}

.theme-light .bg-orange-500\/20 {
  background-color: rgba(249, 115, 22, 0.15) !important;
}

.theme-light .bg-orange-500\/10 {
  background-color: rgba(249, 115, 22, 0.1) !important;
}

.theme-light .bg-green-500\/20 {
  background-color: rgba(34, 197, 94, 0.15) !important;
}

.theme-light .bg-green-500\/10 {
  background-color: rgba(34, 197, 94, 0.1) !important;
}

.theme-light .bg-red-500\/20 {
  background-color: rgba(239, 68, 68, 0.15) !important;
}

.theme-light .bg-red-500\/10 {
  background-color: rgba(239, 68, 68, 0.1) !important;
}

.theme-light .bg-yellow-500\/20 {
  background-color: rgba(234, 179, 8, 0.15) !important;
}

/* Status animation header gradients */
.theme-light .from-cyan-500\/10 {
  --tw-gradient-from: rgba(6, 182, 212, 0.08) !important;
}

.theme-light .to-blue-500\/10 {
  --tw-gradient-to: rgba(59, 130, 246, 0.08) !important;
}

.theme-light .from-orange-500\/10 {
  --tw-gradient-from: rgba(249, 115, 22, 0.08) !important;
}

.theme-light .to-yellow-500\/10 {
  --tw-gradient-to: rgba(234, 179, 8, 0.08) !important;
}

.theme-light .from-green-500\/10 {
  --tw-gradient-from: rgba(34, 197, 94, 0.08) !important;
}

.theme-light .to-cyan-500\/10 {
  --tw-gradient-to: rgba(6, 182, 212, 0.08) !important;
}

.theme-light .from-red-500\/10 {
  --tw-gradient-from: rgba(239, 68, 68, 0.08) !important;
}

.theme-light .to-orange-500\/10 {
  --tw-gradient-to: rgba(249, 115, 22, 0.08) !important;
}

/* Status animation text colors - darken for light backgrounds */
.theme-light .text-cyan-400 {
  color: #0891b2 !important;
}

.theme-light .text-cyan-400\/80 {
  color: rgba(8, 145, 178, 0.9) !important;
}

.theme-light .text-blue-400 {
  color: #2563eb !important;
}

.theme-light .text-orange-400 {
  color: #ea580c !important;
}

.theme-light .text-orange-400\/80 {
  color: rgba(234, 88, 12, 0.9) !important;
}

.theme-light .text-yellow-400 {
  color: #ca8a04 !important;
}

.theme-light .text-red-400 {
  color: #dc2626 !important;
}

.theme-light .text-red-400\/80 {
  color: rgba(220, 38, 38, 0.9) !important;
}

.theme-light .text-green-400\/80 {
  color: rgba(22, 163, 74, 0.9) !important;
}

/* Progress bar background in status animations */
.theme-light .bg-gray-800 {
  background-color: #e2e8f0 !important;
}

/* Cyan and blue dots in tunnel connecting */
.theme-light .bg-cyan-400 {
  background-color: #06b6d4 !important;
}

.theme-light .bg-blue-400 {
  background-color: #3b82f6 !important;
}

.theme-light .bg-orange-400 {
  background-color: #fb923c !important;
}

.theme-light .bg-yellow-400 {
  background-color: #facc15 !important;
}

.theme-light .bg-green-400 {
  background-color: #4ade80 !important;
}

.theme-light .bg-red-400 {
  background-color: #f87171 !important;
}

/* Status indicator dot border */
.theme-light .border-gray-900 {
  border-color: #ffffff !important;
}

/* --- WARNING BANNERS --- */
/* Amber warning banners (runner offline, etc.) */
.theme-light .bg-amber-500\/20 {
  background-color: rgba(245, 158, 11, 0.12) !important;
  border-color: rgba(245, 158, 11, 0.3) !important;
}

.theme-light .border-amber-400\/40 {
  border-color: rgba(251, 191, 36, 0.5) !important;
}

.theme-light .text-amber-200 {
  color: #92400e !important;
}

.theme-light .text-amber-200\/80 {
  color: rgba(146, 64, 14, 0.9) !important;
}

.theme-light .text-amber-300 {
  color: #b45309 !important;
}

.theme-light .text-amber-400 {
  color: #d97706 !important;
}

.theme-light .bg-amber-400\/20 {
  background-color: rgba(251, 191, 36, 0.15) !important;
}

.theme-light .bg-amber-500\/10 {
  background-color: rgba(245, 158, 11, 0.1) !important;
}

.theme-light .border-amber-500\/20 {
  border-color: rgba(245, 158, 11, 0.3) !important;
}

/* Orange warning banners (runner disconnected) */
.theme-light .bg-orange-500\/20 {
  background-color: rgba(249, 115, 22, 0.12) !important;
}

.theme-light .border-orange-400\/40 {
  border-color: rgba(251, 146, 60, 0.5) !important;
}

.theme-light .text-orange-200 {
  color: #9a3412 !important;
}

.theme-light .bg-orange-400\/20 {
  background-color: rgba(251, 146, 60, 0.15) !important;
}

/* --- SHIMMER TEXT OVERRIDES FOR LIGHT MODE --- */
/* Make shimmer text darker for light backgrounds */
.theme-light .shimmer-text-cyan {
  background: linear-gradient(
    90deg,
    #0891b2 0%,
    #1d4ed8 25%,
    #2563eb 50%,
    #1d4ed8 75%,
    #0891b2 100%
  ) !important;
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.theme-light .shimmer-text-orange {
  background: linear-gradient(
    90deg,
    #ea580c 0%,
    #ca8a04 25%,
    #d97706 50%,
    #ca8a04 75%,
    #ea580c 100%
  ) !important;
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* --- MISC DROPDOWN AND MODAL BACKGROUNDS --- */
.theme-light .bg-gray-900\/95 {
  background-color: rgba(248, 250, 252, 0.98) !important;
}

.theme-light .bg-gray-900 {
  background-color: #f8fafc !important;
}

.theme-light .border-gray-700 {
  border-color: #e2e8f0 !important;
}

/* Fix gray-600 background (used in phase indicator dots) */
.theme-light .bg-gray-600 {
  background-color: #cbd5e1 !important;
}

/* Fix hover states for dismiss buttons */
.theme-light .hover\:bg-white\/10:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
}

/* Inline code in warning banners */
.theme-light .bg-black\/30 {
  background-color: rgba(0, 0, 0, 0.08) !important;
}

/* --- TOAST NOTIFICATION COLORS FOR LIGHT MODE --- */
/* Text colors in toasts - darken for light backgrounds */
.theme-light .text-green-100 {
  color: #166534 !important;
}

.theme-light .text-red-100 {
  color: #991b1b !important;
}

.theme-light .text-orange-100 {
  color: #9a3412 !important;
}

.theme-light .text-blue-100 {
  color: #1e40af !important;
}

/* Toast border colors */
.theme-light .border-green-500\/40 {
  border-color: rgba(34, 197, 94, 0.5) !important;
}

.theme-light .border-red-500\/40 {
  border-color: rgba(239, 68, 68, 0.5) !important;
}

.theme-light .border-orange-500\/40 {
  border-color: rgba(249, 115, 22, 0.5) !important;
}

.theme-light .border-blue-500\/40 {
  border-color: rgba(59, 130, 246, 0.5) !important;
}

/* --- ADDITIONAL GRAY TEXT OVERRIDES --- */
.theme-light .text-gray-500 {
  color: #64748b !important;
}

/* Red button and action text colors */
.theme-light .text-red-500 {
  color: #dc2626 !important;
}

/* --- STATUS DOT INDICATOR BACKGROUNDS --- */
/* These small dots need good contrast in light mode */
.theme-light .animate-pulse.bg-green-400 {
  background-color: #22c55e !important;
}

/* --- COMMAND PALETTE OVERRIDES --- */
.theme-light .border-white\/10 {
  border-color: #e2e8f0 !important;
}

/* Bulk action button backgrounds */
.theme-light .bg-red-500\/20 {
  background-color: rgba(239, 68, 68, 0.12) !important;
}

.theme-light .border-red-500\/30 {
  border-color: rgba(239, 68, 68, 0.4) !important;
}

.theme-light .hover\:bg-red-500\/30:hover {
  background-color: rgba(239, 68, 68, 0.2) !important;
}

/* Gray backgrounds in command palette */
.theme-light .bg-gray-800\/50 {
  background-color: #f1f5f9 !important;
}

.theme-light .border-gray-700\/50 {
  border-color: #cbd5e1 !important;
}

@keyframes swing-up {
  0% {
    transform: rotate(-7.5deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes shake-and-fall {
  0% {
    transform: rotate(0deg);
  }
  /* Wait 500ms (represented as percentage of total animation) */
  62.5% {
    transform: rotate(0deg);
  }
  /* Shake sequence */
  67.5% {
    transform: rotate(1deg);
  }
  72.5% {
    transform: rotate(-1deg);
  }
  77.5% {
    transform: rotate(0.5deg);
  }
  82.5% {
    transform: rotate(-0.5deg);
  }
  87.5% {
    transform: rotate(0deg);
  }
  /* Fall down */
  100% {
    transform: rotate(-7.5deg);
  }
}

.animate-swing-up {
  animation: swing-up 0.375s ease forwards;
}

.animate-shake-fall {
  animation: shake-and-fall 0.8s ease forwards;
}

@keyframes shimmer {
  0% {
    background-position: 200% center;
  }
  100% {
    background-position: -200% center;
  }
}

@layer utilities {
  /* Theme-aware shimmer using CSS variables */
  .shimmer-text {
    background: linear-gradient(
      90deg,
      var(--theme-primary) 0%,
      var(--theme-secondary) 25%,
      var(--theme-accent) 50%,
      var(--theme-secondary) 75%,
      var(--theme-primary) 100%
    );
    background-size: 200% auto;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: shimmer 2s linear infinite;
  }

  /* Orange shimmer for server restart animations */
  .shimmer-text-orange {
    background: linear-gradient(
      90deg,
      #fb923c 0%,
      #facc15 25%,
      #fbbf24 50%,
      #facc15 75%,
      #fb923c 100%
    );
    background-size: 200% auto;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: shimmer 2s linear infinite;
  }

  /* Cyan shimmer for tunnel connection animations */
  .shimmer-text-cyan {
    background: linear-gradient(
      90deg,
      #22d3ee 0%,
      #3b82f6 25%,
      #60a5fa 50%,
      #3b82f6 75%,
      #22d3ee 100%
    );
    background-size: 200% auto;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: shimmer 2s linear infinite;
  }

  /* Theme gradient utilities */
  .bg-theme-gradient {
    background: linear-gradient(to right, var(--theme-primary), var(--theme-secondary));
  }
  
  .bg-theme-gradient-br {
    background: linear-gradient(to bottom right, var(--theme-primary), var(--theme-secondary));
  }

  .bg-theme-gradient-muted {
    background: linear-gradient(to right, var(--theme-primary-muted), var(--theme-secondary-muted));
  }

  .bg-theme-gradient-muted-br {
    background: linear-gradient(to bottom right, var(--theme-primary-muted), var(--theme-secondary-muted));
  }

  .bg-theme-primary {
    background-color: var(--theme-primary);
  }

  .bg-theme-primary-muted {
    background-color: var(--theme-primary-muted);
  }

  .bg-theme-secondary-muted {
    background-color: var(--theme-secondary-muted);
  }

  .text-theme-primary {
    color: var(--theme-primary);
  }

  .text-theme-secondary {
    color: var(--theme-secondary);
  }

  .text-theme-accent {
    color: var(--theme-accent);
  }

  .border-theme-primary {
    border-color: var(--theme-primary);
  }

  .border-theme-primary-muted {
    border-color: var(--theme-primary-muted);
  }

  .border-theme-primary\/20 {
    border-color: color-mix(in srgb, var(--theme-primary) 20%, transparent);
  }

  .border-theme-primary\/30 {
    border-color: color-mix(in srgb, var(--theme-primary) 30%, transparent);
  }

  .border-theme-primary\/50 {
    border-color: color-mix(in srgb, var(--theme-primary) 50%, transparent);
  }

  .shadow-theme {
    box-shadow: 0 10px 15px -3px var(--theme-glow), 0 4px 6px -4px var(--theme-glow);
  }

  .shadow-theme-hover:hover {
    box-shadow: 0 10px 15px -3px var(--theme-glow-hover), 0 4px 6px -4px var(--theme-glow-hover);
  }

  .shadow-theme-sm {
    box-shadow: 0 4px 6px -1px var(--theme-glow);
  }

  .ring-theme-primary {
    --tw-ring-color: var(--theme-primary);
  }

  .focus\:border-theme-primary:focus {
    border-color: var(--theme-primary);
  }

  .focus\:ring-theme-primary:focus {
    --tw-ring-color: var(--theme-primary);
  }

  .hover\:bg-theme-primary-muted:hover {
    background-color: var(--theme-primary-muted);
  }

  .hover\:border-theme-primary:hover {
    border-color: var(--theme-primary);
  }

  .hover\:border-theme-primary\/40:hover {
    border-color: color-mix(in srgb, var(--theme-primary) 40%, transparent);
  }

  .data-\[state\=checked\]\:bg-theme-primary[data-state="checked"] {
    background-color: var(--theme-primary);
  }

  .data-\[state\=checked\]\:border-theme-primary[data-state="checked"] {
    border-color: var(--theme-primary);
  }

  /* Theme card styles */
  .theme-card {
    border-color: color-mix(in srgb, var(--theme-primary) 30%, transparent);
    background: linear-gradient(to bottom right, 
      color-mix(in srgb, var(--theme-primary) 15%, rgb(3, 7, 18)), 
      rgba(17, 24, 39, 0.95), 
      rgba(17, 24, 39, 0.95));
  }

  .theme-card-header {
    border-color: color-mix(in srgb, var(--theme-primary) 20%, transparent);
    background: linear-gradient(to right, var(--theme-primary-muted), var(--theme-secondary-muted));
  }

  /* Theme button primary */
  .btn-theme-primary {
    background: linear-gradient(to right, var(--theme-primary), var(--theme-secondary));
    color: var(--theme-button-text, white);
    transition: all 0.2s;
  }

  .btn-theme-primary:hover {
    background: linear-gradient(to right, 
      color-mix(in srgb, var(--theme-primary) 85%, black), 
      color-mix(in srgb, var(--theme-secondary) 85%, black));
  }

  /* Theme selection/active state */
  .theme-selected {
    background: linear-gradient(to right, var(--theme-primary-muted), var(--theme-secondary-muted));
    border-left: 2px solid var(--theme-primary);
  }

  /* Progress bar theme */
  .progress-theme {
    background: linear-gradient(to right, var(--theme-primary), var(--theme-secondary));
  }

  /* Main content background */
  .bg-theme-content {
    background: linear-gradient(to top right, var(--sidebar-gradient-from), var(--sidebar-gradient-to));
  }

  /* Theme input styling */
  .input-theme {
    background-color: var(--theme-input-bg, rgba(0, 0, 0, 0.4));
    border-color: var(--theme-input-border, rgba(255, 255, 255, 0.1));
    color: white;
    transition: border-color 0.2s;
  }

  .input-theme::placeholder {
    color: rgba(156, 163, 175, 0.7);
  }

  .input-theme:focus {
    border-color: var(--theme-input-border-focus, var(--theme-primary));
    outline: none;
  }

  /* Theme terminal styling */
  .terminal-theme {
    background-color: var(--theme-terminal-bg, #181225);
  }

  /* Theme chat message styling */
  .chat-user-theme {
    background: linear-gradient(to bottom right, 
      var(--theme-chat-user-bg, rgba(168, 85, 247, 0.25)), 
      color-mix(in srgb, var(--theme-primary) 15%, transparent));
    border-color: color-mix(in srgb, var(--theme-primary) 40%, transparent);
  }

  .chat-agent-theme {
    background-color: var(--theme-chat-agent-bg, rgba(39, 39, 42, 0.7));
    border-color: rgba(63, 63, 70, 1);
  }

  /* Theme tag badge styling */
  .tag-badge-theme {
    background-color: var(--theme-input-bg, rgba(0, 0, 0, 0.5));
    border-color: color-mix(in srgb, var(--theme-primary, rgba(139, 92, 246, 1)) 30%, transparent);
    border-width: 1px;
    color: white;
    transition: all 0.2s;
  }

  .tag-badge-theme:hover {
    border-color: color-mix(in srgb, var(--theme-primary, rgba(139, 92, 246, 1)) 50%, transparent);
    background-color: color-mix(in srgb, var(--theme-primary) 10%, rgba(0, 0, 0, 0.5));
  }

  .tag-badge-theme .tag-key {
    color: rgba(255, 255, 255, 0.6);
    font-weight: 500;
  }

  .tag-badge-theme .tag-value {
    color: rgba(255, 255, 255, 0.95);
    font-weight: 500;
  }

  .tag-badge-theme .tag-remove {
    color: rgba(255, 255, 255, 0.5);
  }

  .tag-badge-theme .tag-remove:hover {
    color: rgba(255, 255, 255, 0.9);
  }

  /* Theme add tag button */
  .btn-add-tag-theme {
    background-color: var(--theme-input-bg, rgba(0, 0, 0, 0.4));
    border-color: var(--theme-input-border, rgba(255, 255, 255, 0.1));
    color: rgba(255, 255, 255, 0.7);
    transition: all 0.2s;
  }

  .btn-add-tag-theme:hover {
    background-color: color-mix(in srgb, var(--theme-primary) 15%, transparent);
    border-color: color-mix(in srgb, var(--theme-primary) 50%, transparent);
    color: var(--theme-primary);
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
  
  /* Fix for Radix Dialog scroll lock cleanup issue */
  /* When dialog closes, ensure no leftover scroll-related styles */
  body:not([data-scroll-locked]) {
    overflow: unset !important;
    padding-right: 0 !important;
    margin-right: 0 !important;
  }

  /* Sidebar styling - uses theme variables */
  [data-sidebar="sidebar"] {
    background: linear-gradient(to top right, var(--sidebar-gradient-from), var(--sidebar-gradient-to)) !important;
    border: none !important;
  }

  /* Sidebar rail (the draggable edge) */
  [data-sidebar="rail"] {
    background: transparent !important;
    border: none !important;
  }

  [data-sidebar="rail"]:hover {
    background: transparent !important;
  }

  button[data-sidebar="trigger"] {
    border: none !important;
  }

  /* Dark theme scrollbar */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.2) rgba(0, 0, 0, 0.3);
  }

  /* Webkit browsers (Chrome, Safari, Edge) */
  *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  *::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
  }

  *::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }
}

/* Syntax highlighting styles */
.hljs {
  @apply bg-black text-white p-4 rounded-lg overflow-x-auto;
}
.hljs-comment,
.hljs-quote {
  @apply text-gray-500;
}
.hljs-keyword,
.hljs-selector-tag,
.hljs-addition {
  @apply text-white font-semibold;
}
.hljs-number,
.hljs-string,
.hljs-meta .hljs-string,
.hljs-literal,
.hljs-doctag,
.hljs-regexp {
  @apply text-gray-300;
}
.hljs-title,
.hljs-section,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class {
  @apply text-gray-200;
}
.hljs-attribute,
.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-class .hljs-title,
.hljs-type {
  @apply text-gray-400;
}
.hljs-symbol,
.hljs-bullet,
.hljs-subst,
.hljs-meta,
.hljs-meta .hljs-keyword,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-link {
  @apply text-gray-300;
}
.hljs-built_in,
.hljs-deletion {
  @apply text-gray-400;
}
.hljs-formula {
  @apply bg-gray-900;
}
.hljs-emphasis {
  @apply italic;
}
.hljs-strong {
  @apply font-bold;
}
